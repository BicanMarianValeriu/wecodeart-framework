<?php
/**
 * WeCodeArt Framework.
 *
 * WARNING: This file is part of the core WeCodeArt Framework. DO NOT edit this file under any circumstances.
 * Please do all modifications in the form of a child theme.
 *
 * @package 	WeCodeArt Framework
 * @subpackage 	Comment Body Template
 * @since 	    4.0.2
 * @version	    4.0.2
 */

defined( 'ABSPATH' ) || exit;

/**
 * @param   string  $author
 * @param   string  $awaiting
 * @param   string  $args
 * @param   string  $comment
 * @param   string  $depth
 */
?>
<div class="comment__body mb-3">
    <?php

    /**
     * Comment Hook - Top 
     */
    do_action( 'wecodeart/hook/comment/top', $comment );
        
    ?>
    <div class="row">
        <div class="col-auto">
            <figure class="comment__gravatar gravatar"><?php
            
                echo wp_kses( $author['gravatar'], [
                    'img' => [
                        'class'     => true,
                        'alt'  	    => true,
                        'src'       => true,
                        'srcset'    => true,
                        'width'     => true,
                        'height'    => true,
                    ],
                ] );
                
            ?></figure>
        </div>
        <div class="col">
            <?php

                edit_comment_link( '&#9998;', '<span class="comment-edit badge float-right">', '</span>' );
            
            ?>
            <div class="comment__author"><?php
                
                echo wp_kses_post( $author['name'] ); 
            
                if( (bool) $by_author )
                    printf(
                        ' &mdash; <span class="badge badge-primary">%s</span>',
                        esc_html__( 'Post Author', 'wecodeart' )
                    );

            ?></div>
            <time class="comment__date text-muted created" itemprop="dateCreated" datetime="<?php

                echo esc_attr( get_comment_date( DATE_W3C ) );

            ?>"><?php

                echo esc_html( implode( ' ', [
                    get_comment_date(),
                    __( 'at', 'wecodeart' ),
                    get_comment_time()
                ] ) );

            ?></time>
        </div>
        <div class="col-12">
            <?php if ( ! $comment->comment_approved ) : ?>
            <p class="callout"><?php
            
                echo esc_html( $awaiting );
                
            ?></p>
            <?php endif; ?>
            <div class="comment__content p-3 border border-soft shadow-soft rounded" itemprop="text"><?php

                echo wp_kses_post( $comment->comment_content );

            ?></div>
            <?php
            
                comment_reply_link( array_merge( $args, [
                    'depth'  => $depth,
                    'before' => '<span class="comment-reply float-right">',
                    'after'  => '</span>',
                ] ) );

            ?>
        </div>
    </div>
    <?php
        
    /**
     * Comment Hook - Bottom 
     */
    do_action( 'wecodeart/hook/comment/bottom', $comment );
    
    ?>
</div>