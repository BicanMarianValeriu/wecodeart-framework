{"version":3,"file":"js/gutenberg/editor.js","mappings":"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","sources":["webpack://wecodeart/./src/js/gutenberg/plugins/code-editor/controls.js","webpack://wecodeart/./src/js/gutenberg/plugins/code-editor/index.js","webpack://wecodeart/./src/js/gutenberg/plugins/index.js","webpack://wecodeart/./src/scss/gutenberg/index.scss?44e1","webpack://wecodeart/webpack/bootstrap","webpack://wecodeart/webpack/runtime/define property getters","webpack://wecodeart/webpack/runtime/hasOwnProperty shorthand","webpack://wecodeart/webpack/runtime/make namespace object","webpack://wecodeart/./src/js/gutenberg/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies\r\n */\r\nconst {\r\n\tcompose: {\r\n\t\tcompose\r\n\t},\r\n\tdata: {\r\n\t\tuseSelect,\r\n\t\tdispatch\r\n\t},\r\n\tblocks: {\r\n\t\tparse,\r\n\t},\r\n\telement: {\r\n\t\tuseState,\r\n\t\tuseEffect\r\n\t},\r\n\tcomponents: {\r\n\t\twithSpokenMessages\r\n\t}\r\n} = wp;\r\n\r\nconst CodeEditor = () => {\r\n\tconst [isLoaded, setIsLoaded] = useState(false);\r\n\r\n\tconst { editorMode } = useSelect((select) => {\r\n\t\treturn {\r\n\t\t\teditorMode: select('core/edit-post').getEditorMode(),\r\n\t\t};\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isLoaded || editorMode !== 'text') {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst textEditor = document.querySelector('.editor-post-text-editor,.edit-site-code-editor-text-area');\r\n\r\n\t\tif (textEditor) {\r\n\t\t\tconst editorSettings = wp.codeEditor.defaultSettings ? _.clone(wp.codeEditor.defaultSettings) : {};\r\n\r\n\t\t\tdocument.body.classList.add('theme-wecodeart--codemirror-loaded');\r\n\r\n\t\t\teditorSettings.codemirror = _.extend({}, editorSettings.codemirror, {\r\n\t\t\t\tmode: 'text/html',\r\n\t\t\t\tlineNumbers: true,\r\n\t\t\t\tlineWrapping: true,\r\n\t\t\t\tindentUnit: 2,\r\n\t\t\t\ttabSize: 2,\r\n\t\t\t\theight: 'auto',\r\n\t\t\t\tscrollbarStyle: 'null',\r\n\t\t\t});\r\n\r\n\t\t\tconst { codemirror } = wp.codeEditor.initialize(textEditor, editorSettings);\r\n\r\n\t\t\t// const { display: { viewTo }, getTextArea } = codemirror;\r\n\t\t\t// const { value } = getTextArea();\r\n\t\t\t// editor.autoFormatRange({ line: 0, ch: 0 }, { line: viewTo, ch: value.length });\r\n\r\n\t\t\tcodemirror.on('change', ({ getTextArea }) => {\r\n\t\t\t\tconst { value } = getTextArea();\r\n\t\t\t\ttextEditor.innerHTML = value;\r\n\t\t\t\tdispatch('core/editor').editPost({ content: value });\r\n\t\t\t});\r\n\r\n\t\t\tcodemirror.on('blur', ({ getTextArea }) => {\r\n\t\t\t\tconst { value } = getTextArea();\r\n\t\t\t\tdispatch('core/editor').resetEditorBlocks(parse(value));\r\n\t\t\t});\r\n\r\n\t\t\tsetIsLoaded(true);\r\n\t\t}\r\n\r\n\t\treturn () => {\r\n\t\t\tsetIsLoaded(false);\r\n\t\t};\r\n\t}, [editorMode]);\r\n\r\n\treturn;\r\n};\r\n\r\nexport default compose(withSpokenMessages)(CodeEditor);","/**\r\n * Internal dependencies\r\n */\r\nimport render from './controls';\r\n\r\nexport default {\r\n\tname: 'wca-code-editor',\r\n\trender\r\n};\r\n","/**\r\n * Internal dependencies\r\n */\r\nimport codeEditor from './code-editor';\r\n\r\nconst { registerPlugin } = wp.plugins;\r\n\r\nfunction registerWCAPlugins() {\r\n\t[\r\n\t\tcodeEditor,\r\n\t].forEach((block) => {\r\n\t\tif (!block) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst { name, render } = block;\r\n\r\n\t\tregisterPlugin(name, { icon: false, render });\r\n\t});\r\n}\r\n\r\nwp.domReady(registerWCAPlugins);","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// SCSS\r\nimport './../../scss/gutenberg/index.scss';\r\n\r\n// Plugins\r\nimport './plugins';"],"names":["compose","data","useSelect","dispatch","blocks","parse","element","useState","useEffect","components","withSpokenMessages","wp","CodeEditor","isLoaded","setIsLoaded","editorMode","select","getEditorMode","textEditor","document","querySelector","editorSettings","codeEditor","defaultSettings","_","clone","body","classList","add","codemirror","extend","mode","lineNumbers","lineWrapping","indentUnit","tabSize","height","scrollbarStyle","initialize","on","getTextArea","value","innerHTML","editPost","content","resetEditorBlocks","render","name","registerPlugin","plugins","registerWCAPlugins","forEach","block","icon","domReady"],"sourceRoot":""}