{"version":3,"file":"js/gutenberg/ext-styles.js","mappings":"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","sources":["webpack://wecodeart/./src/js/gutenberg/extensions/with-styles/Editor.js","webpack://wecodeart/./src/js/gutenberg/extensions/with-styles/injector.js","webpack://wecodeart/external window [\"wp\",\"element\"]","webpack://wecodeart/webpack/bootstrap","webpack://wecodeart/webpack/runtime/compat get default export","webpack://wecodeart/webpack/runtime/define property getters","webpack://wecodeart/webpack/runtime/hasOwnProperty shorthand","webpack://wecodeart/webpack/runtime/make namespace object","webpack://wecodeart/./src/js/gutenberg/extensions/with-styles/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies.\r\n */\r\nconst {\r\n\ti18n: { __, sprintf },\r\n\telement: { useEffect, useState, useRef },\r\n\tcomponents: { Popover, Dashicon }\r\n} = wp;\r\n\r\nconst CSSEditor = ({\r\n\tattributes,\r\n\tsetAttributes,\r\n}) => {\r\n\tconst { customCSS, customStyle } = attributes;\r\n\r\n\tconst editorRef = useRef(null);\r\n\tconst customStyleRef = useRef(null);\r\n\tconst defaultValue = 'selector {\\n}\\n';\r\n\r\n\tuseEffect(() => {\r\n\t\tcustomStyleRef.current = defaultValue;\r\n\r\n\t\tif (customStyle || customCSS) {\r\n\t\t\tcustomStyleRef.current = customStyle || customCSS;\r\n\t\t}\r\n\r\n\t\teditorRef.current = wp.CodeMirror(document.getElementById('wecodeart-css-editor'), {\r\n\t\t\tvalue: customStyleRef.current,\r\n\t\t\tautoCloseBrackets: true,\r\n\t\t\tcontinueComments: true,\r\n\t\t\tlineNumbers: true,\r\n\t\t\tlineWrapping: true,\r\n\t\t\tmatchBrackets: true,\r\n\t\t\tlint: true,\r\n\t\t\tgutters: ['CodeMirror-lint-markers'],\r\n\t\t\tstyleActiveLine: true,\r\n\t\t\tstyleActiveSelected: true,\r\n\t\t\textraKeys: {\r\n\t\t\t\t'Ctrl-Space': 'autocomplete',\r\n\t\t\t\t'Alt-F': 'findPersistent',\r\n\t\t\t\t'Cmd-F': 'findPersistent'\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\teditorRef.current.on('change', () => {\r\n\t\t\tcustomStyleRef.current = editorRef.current.getValue();\r\n\r\n\t\t\t// Deprecate old attribute naming\r\n\t\t\tif ((defaultValue).replace(/\\s+/g, '') === customStyleRef.current.replace(/\\s+/g, '')) {\r\n\t\t\t\treturn setAttributes({ customStyle: null, customCSS: null });\r\n\t\t\t}\r\n\r\n\t\t\tsetAttributes({ customStyle: customStyleRef.current, customCSS: null });\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst DescriptionPopover = () => {\r\n\t\tconst [isVisible, setIsVisible] = useState(false);\r\n\t\tconst toggleVisible = () => setIsVisible((state) => !state);\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Dashicon icon=\"info-outline\" style={{ marginLeft: 'auto', cursor: 'pointer' }} onClick={toggleVisible} />\r\n\t\t\t\t{isVisible && <Popover placement=\"top-end\">\r\n\t\t\t\t\t<div style={{ padding: '.5rem 1rem' }}>\r\n\t\t\t\t\t\t<p>{sprintf(__('Use %s to target the block CSS class.', 'wecodeart'), '\"selector\"')}</p>\r\n\t\t\t\t\t\t<pre>\r\n\t\t\t\t\t\t\t{'selector {\\n    background: #000;\\n}\\n\\nselector img {\\n    border-radius: 100%;\\n}'}\r\n\t\t\t\t\t\t</pre>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Popover>}\r\n\t\t\t</>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div class=\"wecodeart-advanced-css\">\r\n\t\t\t\t<hr />\r\n\t\t\t\t<p class=\"wecodeart-advanced-css__title\" style={{ display: 'flex', fontSize: '11px', fontWeight: '500', textTransform: 'uppercase' }}>\r\n\t\t\t\t\t<span>{__('Additional custom CSS', 'wecodeart')}</span>\r\n\t\t\t\t\t<DescriptionPopover />\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className=\"wecodeart-advanced-css__editor\" id=\"wecodeart-css-editor\" />\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default CSSEditor;\r\n","/**\r\n * WordPress dependencies.\r\n */\r\nconst {\r\n\ti18n: { __ },\r\n\tblocks: { parse },\r\n\tdata: { select, subscribe }\r\n} = wp;\r\n\r\nconst { flattenDeep } = lodash;\r\n\r\nconst addStyle = style => {\r\n\tlet element = document.getElementById('wecodeart-blocks-dynamic-styles');\r\n\r\n\tif (null === element) {\r\n\t\telement = document.createElement('style');\r\n\t\telement.setAttribute('type', 'text/css');\r\n\t\telement.setAttribute('id', 'wecodeart-blocks-dynamic-styles');\r\n\t\tdocument.getElementsByTagName('head')[0].appendChild(element);\r\n\t}\r\n\r\n\tif (element.textContent === style) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn element.textContent = style;\r\n};\r\n\r\nconst getCustomStyleFromBlocks = (blocks, reusableBlocks) => {\r\n\tif (!blocks) {\r\n\t\treturn '';\r\n\t}\r\n\r\n\t// Return the children of the block. The result is an array deeply nested that match the structure of the block in the editor.\r\n\tconst getChildrenFromBlock = (block) => {\r\n\t\tconst childrends = [];\r\n\t\tif ('core/block' === block.name && null !== reusableBlocks) {\r\n\t\t\tconst reBlocks = reusableBlocks.find(i => block.attributes.ref === i.id);\r\n\t\t\tif (reBlocks && reBlocks.content) {\r\n\t\t\t\tchildrends.push(parse(reBlocks.content.raw || reBlocks.content).map((child) => [child, getChildrenFromBlock(child)]));\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tif (undefined !== block.innerBlocks && 0 < (block.innerBlocks).length) {\r\n\t\t\tchildrends.push(block.innerBlocks.map((child) => [child, getChildrenFromBlock(child)]));\r\n\t\t}\r\n\r\n\t\treturn childrends;\r\n\t};\r\n\r\n\t// Get all the blocks and their children\r\n\tconst allBlocks = blocks.map((block) => [block, getChildrenFromBlock(block)]);\r\n\r\n\t// Transform the deply nested array in a simple one and then get the `customStyle` value where it is the case\r\n\tconst extractCustomStyle = flattenDeep(allBlocks).map((block) => {\r\n\t\tconst { attributes: { customCSS = null, customStyle = customCSS } = {}, clientId } = block;\r\n\t\tif (customStyle) {\r\n\t\t\treturn customStyle.replace(new RegExp('selector', 'g'), `.wp-block[data-block=\"${clientId}\"]`) + '\\n';\r\n\t\t}\r\n\t\treturn '';\r\n\t});\r\n\r\n\t// Build the global style\r\n\tconst style = extractCustomStyle.reduce((acc, localStyle) => acc + localStyle, '');\r\n\r\n\t// For debugging\r\n\t// console.log( 'Get all the block', allBlocks );\r\n\t// console.log( 'Extract customStyle', extractCustomStyle );\r\n\t// console.log( 'Final Result\\n', style );\r\n\r\n\treturn style;\r\n};\r\n\r\nconst subscribed = subscribe(() => {\r\n\tconst { getBlocks } = select('core/block-editor') || select('core/editor');\r\n\tconst blocks = getBlocks();\r\n\tconst reusableBlocks = select('core').getEntityRecords('postType', 'wp_block');\r\n\tconst blocksStyle = getCustomStyleFromBlocks(blocks, reusableBlocks);\r\n\taddStyle(blocksStyle);\r\n});\r\n","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\r\n * WordPress dependencies.\r\n */\r\nconst { assign } = lodash;\r\nconst {\r\n\thooks: { addFilter },\r\n\tblocks: { hasBlockSupport },\r\n\tcompose: { createHigherOrderComponent },\r\n\tblockEditor: { InspectorAdvancedControls },\r\n} = wp;\r\n\r\n/**\r\n * Internal dependencies.\r\n */\r\nimport CSSEditor from './Editor';\r\nimport './injector';\r\n\r\nconst addAttributes = (props) => {\r\n\tif (hasBlockSupport(props, '__experimentalStyles')) {\r\n\t\tprops.attributes = assign(props.attributes, {\r\n\t\t\tcustomStyle: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tdefault: null\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\treturn props;\r\n};\r\n\r\n/**\r\n * Override the default edit UI to include a new block inspector control for\r\n * assigning the custom class name, if block supports custom class name.\r\n *\r\n * @param \t{Function} \tBlockEdit Original component.\r\n *\r\n * @return \t{string} \tWrapped component.\r\n */\r\nconst withInspectorControl = createHigherOrderComponent((BlockEdit) => {\r\n\treturn (props) => {\r\n\t\tconst { name } = props;\r\n\t\tif (hasBlockSupport(name, '__experimentalStyles')) {\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<BlockEdit {...props} />\r\n\t\t\t\t\t<InspectorAdvancedControls>\r\n\t\t\t\t\t\t<CSSEditor {...props} />\r\n\t\t\t\t\t</InspectorAdvancedControls>\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn <BlockEdit {...props} />;\r\n\t};\r\n}, 'withInspectorControl');\r\n\r\n/**\r\n * Apply Filters\r\n */\r\naddFilter('blocks.registerBlockType', 'wecodeart/blocks/custom-css/addAttributes', addAttributes);\r\naddFilter('editor.BlockEdit', 'wecodeart/editor/custom-css/withInspectorControl', withInspectorControl, 90);"],"names":["i18n","__","sprintf","element","useEffect","useState","useRef","components","Popover","Dashicon","wp","CSSEditor","_ref","attributes","setAttributes","customCSS","customStyle","editorRef","customStyleRef","defaultValue","current","CodeMirror","document","getElementById","value","autoCloseBrackets","continueComments","lineNumbers","lineWrapping","matchBrackets","lint","gutters","styleActiveLine","styleActiveSelected","extraKeys","on","getValue","replace","DescriptionPopover","isVisible","setIsVisible","toggleVisible","state","createElement","Fragment","icon","style","marginLeft","cursor","onClick","placement","padding","class","display","fontSize","fontWeight","textTransform","className","id","blocks","parse","data","select","subscribe","flattenDeep","lodash","addStyle","setAttribute","getElementsByTagName","appendChild","textContent","getCustomStyleFromBlocks","reusableBlocks","getChildrenFromBlock","block","childrends","name","reBlocks","find","i","ref","content","push","raw","map","child","undefined","innerBlocks","length","allBlocks","extractCustomStyle","clientId","RegExp","reduce","acc","localStyle","subscribed","getBlocks","getEntityRecords","blocksStyle","assign","hooks","addFilter","hasBlockSupport","compose","createHigherOrderComponent","blockEditor","InspectorAdvancedControls","addAttributes","props","type","default","withInspectorControl","BlockEdit"],"sourceRoot":""}