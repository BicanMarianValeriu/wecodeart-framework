{"version":3,"file":"js/gutenberg/ext-styles.js","mappings":"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","sources":["webpack://wecodeart/./src/js/gutenberg/extensions/with-styles/Editor.js","webpack://wecodeart/./src/js/gutenberg/extensions/with-styles/injector.js","webpack://wecodeart/external window [\"wp\",\"element\"]","webpack://wecodeart/webpack/bootstrap","webpack://wecodeart/webpack/runtime/compat get default export","webpack://wecodeart/webpack/runtime/define property getters","webpack://wecodeart/webpack/runtime/hasOwnProperty shorthand","webpack://wecodeart/webpack/runtime/make namespace object","webpack://wecodeart/./src/js/gutenberg/extensions/with-styles/index.js"],"sourcesContent":["/**\r\n * WordPress dependencies.\r\n */\r\nconst {\r\n\ti18n: { __, sprintf },\r\n\telement: { useEffect, useState, useRef },\r\n\tcomponents: { Popover, Dashicon }\r\n} = wp;\r\n\r\nconst CSSEditor = ({\r\n\tattributes,\r\n\tsetAttributes,\r\n}) => {\r\n\tconst { customCSS } = attributes;\r\n\r\n\tconst editorRef = useRef(null);\r\n\tconst customCSSRef = useRef(null);\r\n\tconst defaultValue = 'selector {\\n}\\n';\r\n\r\n\tuseEffect(() => {\r\n\t\tcustomCSSRef.current = defaultValue;\r\n\r\n\t\tif (customCSS) {\r\n\t\t\tcustomCSSRef.current = customCSS;\r\n\t\t}\r\n\r\n\t\teditorRef.current = wp.CodeMirror(document.getElementById('wecodeart-css-editor'), {\r\n\t\t\tvalue: customCSSRef.current,\r\n\t\t\tautoCloseBrackets: true,\r\n\t\t\tcontinueComments: true,\r\n\t\t\tlineNumbers: true,\r\n\t\t\tlineWrapping: true,\r\n\t\t\tmatchBrackets: true,\r\n\t\t\tlint: true,\r\n\t\t\tgutters: ['CodeMirror-lint-markers'],\r\n\t\t\tstyleActiveLine: true,\r\n\t\t\tstyleActiveSelected: true,\r\n\t\t\textraKeys: {\r\n\t\t\t\t'Ctrl-Space': 'autocomplete',\r\n\t\t\t\t'Alt-F': 'findPersistent',\r\n\t\t\t\t'Cmd-F': 'findPersistent'\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\teditorRef.current.on('change', () => {\r\n\t\t\tcustomCSSRef.current = editorRef.current.getValue();\r\n\r\n\t\t\tif ((defaultValue).replace(/\\s+/g, '') === customCSSRef.current.replace(/\\s+/g, '')) {\r\n\t\t\t\treturn setAttributes({ customCSS: null });\r\n\t\t\t}\r\n\r\n\t\t\tsetAttributes({ customCSS: customCSSRef.current });\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst DescriptionPopover = () => {\r\n\t\tconst [isVisible, setIsVisible] = useState(false);\r\n\t\tconst toggleVisible = () => setIsVisible((state) => !state);\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Dashicon icon=\"info-outline\" style={{ marginLeft: 'auto', cursor: 'pointer' }} onClick={toggleVisible} />\r\n\t\t\t\t{isVisible && <Popover placement=\"top-end\">\r\n\t\t\t\t\t<div style={{ padding: '.5rem 1rem' }}>\r\n\t\t\t\t\t\t<p>{sprintf(__('Use %s to target the block CSS class.', 'wecodeart'), '\"selector\"')}</p>\r\n\t\t\t\t\t\t<pre>\r\n\t\t\t\t\t\t\t{'selector {\\n    background: #000;\\n}\\n\\nselector img {\\n    border-radius: 100%;\\n}'}\r\n\t\t\t\t\t\t</pre>\r\n\t\t\t\t\t\t<p>{__('You can also use other CSS syntax here, such as media queries.', 'wecodeart')}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Popover>}\r\n\t\t\t</>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div class=\"wecodeart-advanced-css\">\r\n\t\t\t\t<hr />\r\n\t\t\t\t<p class=\"wecodeart-advanced-css__title\" style={{ display: 'flex', fontSize: '11px', fontWeight: '500', textTransform: 'uppercase' }}>\r\n\t\t\t\t\t<span>{__('Add your custom CSS.', 'wecodeart')}</span>\r\n\t\t\t\t\t<DescriptionPopover />\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className=\"wecodeart-advanced-css__editor\" id=\"wecodeart-css-editor\" />\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default CSSEditor;\r\n","/**\r\n * WordPress dependencies.\r\n */\r\nconst {\r\n\ti18n: { __ },\r\n\tblocks: { parse },\r\n\tdata: { select, subscribe }\r\n} = wp;\r\n\r\nconst { flattenDeep } = lodash;\r\n\r\nconst addStyle = style => {\r\n\tlet element = document.getElementById('wecodeart-blocks-dynamic-styles');\r\n\r\n\tif (null === element) {\r\n\t\telement = document.createElement('style');\r\n\t\telement.setAttribute('type', 'text/css');\r\n\t\telement.setAttribute('id', 'wecodeart-blocks-dynamic-styles');\r\n\t\tdocument.getElementsByTagName('head')[0].appendChild(element);\r\n\t}\r\n\r\n\tif (element.textContent === style) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn element.textContent = style;\r\n};\r\n\r\nconst getCustomCSSFromBlocks = (blocks, reusableBlocks) => {\r\n\tif (!blocks) {\r\n\t\treturn '';\r\n\t}\r\n\r\n\t// Return the children of the block. The result is an array deeply nested that match the structure of the block in the editor.\r\n\tconst getChildrenFromBlock = (block) => {\r\n\t\tconst childrends = [];\r\n\t\tif ('core/block' === block.name && null !== reusableBlocks) {\r\n\t\t\tconst reBlocks = reusableBlocks.find(i => block.attributes.ref === i.id);\r\n\t\t\tif (reBlocks && reBlocks.content) {\r\n\t\t\t\tchildrends.push(parse(reBlocks.content.raw || reBlocks.content).map((child) => [child, getChildrenFromBlock(child)]));\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tif (undefined !== block.innerBlocks && 0 < (block.innerBlocks).length) {\r\n\t\t\tchildrends.push(block.innerBlocks.map((child) => [child, getChildrenFromBlock(child)]));\r\n\t\t}\r\n\r\n\t\treturn childrends;\r\n\t};\r\n\r\n\t// Get all the blocks and their children\r\n\tconst allBlocks = blocks.map((block) => [block, getChildrenFromBlock(block)]);\r\n\r\n\t// Transform the deply nested array in a simple one and then get the `customCss` value where it is the case\r\n\tconst extractCustomCss = flattenDeep(allBlocks).map((block) => {\r\n\t\tconst { attributes: { customCSS = null } = {}, clientId } = block;\r\n\t\tif (customCSS) {\r\n\t\t\treturn customCSS.replace(new RegExp('selector', 'g'), `.wp-block[data-block=\"${clientId}\"]`) + '\\n';\r\n\t\t}\r\n\t\treturn '';\r\n\t});\r\n\r\n\t// Build the global style\r\n\tconst style = extractCustomCss.reduce((acc, localStyle) => acc + localStyle, '');\r\n\r\n\t// For debugging\r\n\t// console.log( 'Get all the block', allBlocks );\r\n\t// console.log( 'Extract customCss', extractCustomCss );\r\n\t// console.log( 'Final Result\\n', style );\r\n\r\n\treturn style;\r\n};\r\n\r\nconst subscribed = subscribe(() => {\r\n\tconst { getBlocks } = select('core/block-editor') || select('core/editor');\r\n\tconst blocks = getBlocks();\r\n\tconst reusableBlocks = select('core').getEntityRecords('postType', 'wp_block');\r\n\tconst blocksStyle = getCustomCSSFromBlocks(blocks, reusableBlocks);\r\n\taddStyle(blocksStyle);\r\n});\r\n","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\r\n * WordPress dependencies.\r\n */\r\nconst { assign } = lodash;\r\nconst {\r\n\thooks: { addFilter },\r\n\tcompose: { createHigherOrderComponent },\r\n\tblockEditor: { InspectorAdvancedControls },\r\n} = wp;\r\n\r\nconst { restrictedBlocks } = wecodeartGutenberg;\r\n\r\n/**\r\n * Internal dependencies.\r\n */\r\nimport CSSEditor from './Editor';\r\nimport './injector';\r\n\r\nconst addAttributes = (props) => {\r\n\tconst { name } = props;\r\n\tconst isRestrictedBlock = restrictedBlocks.includes(name);\r\n\tif (!isRestrictedBlock) {\r\n\t\tprops.attributes = assign(props.attributes, {\r\n\t\t\tcustomCSS: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tdefault: null\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\treturn props;\r\n};\r\n\r\n/**\r\n * Override the default edit UI to include a new block inspector control for\r\n * assigning the custom class name, if block supports custom class name.\r\n *\r\n * @param \t{Function} \tBlockEdit Original component.\r\n *\r\n * @return \t{string} \tWrapped component.\r\n */\r\nconst withInspectorControl = createHigherOrderComponent((BlockEdit) => {\r\n\treturn (props) => {\r\n\t\tconst { name } = props;\r\n\t\tconst isRestrictedBlock = restrictedBlocks.includes(name);\r\n\r\n\t\tif (!isRestrictedBlock) {\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<BlockEdit {...props} />\r\n\t\t\t\t\t<InspectorAdvancedControls>\r\n\t\t\t\t\t\t<CSSEditor {...props} />\r\n\t\t\t\t\t</InspectorAdvancedControls>\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn <BlockEdit {...props} />;\r\n\t};\r\n}, 'withInspectorControl');\r\n\r\n/**\r\n * Apply Filters\r\n */\r\naddFilter('blocks.registerBlockType', 'wecodeart/blocks/custom-css/addAttributes', addAttributes);\r\naddFilter('editor.BlockEdit', 'wecodeart/editor/custom-css/withInspectorControl', withInspectorControl, 90);"],"names":["i18n","__","sprintf","element","useEffect","useState","useRef","components","Popover","Dashicon","wp","CSSEditor","attributes","setAttributes","customCSS","editorRef","customCSSRef","defaultValue","current","CodeMirror","document","getElementById","value","autoCloseBrackets","continueComments","lineNumbers","lineWrapping","matchBrackets","lint","gutters","styleActiveLine","styleActiveSelected","extraKeys","on","getValue","replace","DescriptionPopover","isVisible","setIsVisible","toggleVisible","state","marginLeft","cursor","padding","display","fontSize","fontWeight","textTransform","blocks","parse","data","select","subscribe","flattenDeep","lodash","addStyle","style","createElement","setAttribute","getElementsByTagName","appendChild","textContent","getCustomCSSFromBlocks","reusableBlocks","getChildrenFromBlock","block","childrends","name","reBlocks","find","i","ref","id","content","push","raw","map","child","undefined","innerBlocks","length","allBlocks","extractCustomCss","clientId","RegExp","reduce","acc","localStyle","subscribed","getBlocks","getEntityRecords","blocksStyle","assign","hooks","addFilter","compose","createHigherOrderComponent","blockEditor","InspectorAdvancedControls","restrictedBlocks","wecodeartGutenberg","addAttributes","props","isRestrictedBlock","includes","type","default","withInspectorControl","BlockEdit"],"sourceRoot":""}