{"version":3,"file":"js/plugins/focustrap.js","mappings":"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","sources":["webpack://wecodeart/webpack/bootstrap","webpack://wecodeart/webpack/runtime/define property getters","webpack://wecodeart/webpack/runtime/hasOwnProperty shorthand","webpack://wecodeart/webpack/runtime/make namespace object","webpack://wecodeart/./src/js/frontend/plugins/Plugin-FocusTrap.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\r\n * --------------------------------------------------------------------------\r\n * Backdrop Component\r\n *\r\n * @author \tBican Marian Valeriu\r\n * @version 1.0.0\r\n * --------------------------------------------------------------------------\r\n */\r\nconst NAME = 'focustrap';\r\nconst DATA_KEY = `wp.${NAME}`;\r\nconst EVENT_KEY = `.${DATA_KEY}`;\r\nconst EVENT_FOCUSIN = `focusin${EVENT_KEY}`;\r\nconst EVENT_KEYDOWN_TAB = `keydown.tab${EVENT_KEY}`;\r\n\r\nconst TAB_KEY = 'Tab';\r\nconst TAB_NAV_FORWARD = 'forward';\r\nconst TAB_NAV_BACKWARD = 'backward';\r\n\r\nconst Default = {\r\n\tautofocus: true,\r\n\ttrapElement: null // The element to trap focus inside of\r\n};\r\n\r\nconst DefaultType = {\r\n\tautofocus: 'boolean',\r\n\ttrapElement: 'element'\r\n};\r\n\r\nexport default (function (wecodeart) {\r\n\r\n\tconst { Config, Events, Selector } = wecodeart;\r\n\r\n\t/**\r\n\t * Class definition\r\n\t */\r\n\tclass FocusTrap extends Config {\r\n\t\tconstructor(config) {\r\n\t\t\tsuper();\r\n\t\t\tthis._config = this._getConfig(config);\r\n\t\t\tthis._isActive = false;\r\n\t\t\tthis._lastTabNavDirection = null;\r\n\t\t}\r\n\r\n\t\t// Getters\r\n\t\tstatic get Default() {\r\n\t\t\treturn Default;\r\n\t\t}\r\n\r\n\t\tstatic get DefaultType() {\r\n\t\t\treturn DefaultType;\r\n\t\t}\r\n\r\n\t\tstatic get NAME() {\r\n\t\t\treturn NAME;\r\n\t\t}\r\n\r\n\t\t// Public\r\n\t\tactivate() {\r\n\t\t\tif (this._isActive) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (this._config.autofocus) {\r\n\t\t\t\tthis._config.trapElement.focus();\r\n\t\t\t}\r\n\r\n\t\t\tEvents.off(document, EVENT_KEY); // guard against infinite focus loop\r\n\t\t\tEvents.on(document, EVENT_FOCUSIN, event => this._handleFocusin(event));\r\n\t\t\tEvents.on(document, EVENT_KEYDOWN_TAB, event => this._handleKeydown(event));\r\n\r\n\t\t\tthis._isActive = true;\r\n\t\t}\r\n\r\n\t\tdeactivate() {\r\n\t\t\tif (!this._isActive) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis._isActive = false;\r\n\t\t\tEvents.off(document, EVENT_KEY);\r\n\t\t}\r\n\r\n\t\t// Private\r\n\t\t_handleFocusin(event) {\r\n\t\t\tconst { trapElement } = this._config;\r\n\r\n\t\t\tif (event.target === document || event.target === trapElement || trapElement.contains(event.target)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst elements = Selector.focusableChildren(trapElement);\r\n\r\n\t\t\tif (elements.length === 0) {\r\n\t\t\t\ttrapElement.focus();\r\n\t\t\t} else if (this._lastTabNavDirection === TAB_NAV_BACKWARD) {\r\n\t\t\t\telements[elements.length - 1].focus();\r\n\t\t\t} else {\r\n\t\t\t\telements[0].focus();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t_handleKeydown(event) {\r\n\t\t\tif (event.key !== TAB_KEY) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis._lastTabNavDirection = event.shiftKey ? TAB_NAV_BACKWARD : TAB_NAV_FORWARD;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @static\r\n\t * @memberof Component\r\n\t */\r\n\twecodeart.FocusTrap = FocusTrap;\r\n\twecodeart.plugins.FocusTrap = FocusTrap;\r\n\r\n}).apply(this, [window.wecodeart]);"],"names":["NAME","DATA_KEY","EVENT_KEY","EVENT_FOCUSIN","EVENT_KEYDOWN_TAB","TAB_KEY","TAB_NAV_FORWARD","TAB_NAV_BACKWARD","Default","autofocus","trapElement","DefaultType","wecodeart","Config","Events","Selector","FocusTrap","constructor","config","_config","_getConfig","_isActive","_lastTabNavDirection","activate","focus","off","document","on","event","_handleFocusin","_handleKeydown","deactivate","target","contains","elements","focusableChildren","length","key","shiftKey","plugins","apply","window"],"sourceRoot":""}