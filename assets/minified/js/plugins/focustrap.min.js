(()=>{"use strict";const t="focustrap",e=`.wp.${t}`,s=`focusin${e}`,i=`keydown.tab${e}`,n="backward",o={autofocus:!0,trapElement:null},c={autofocus:"boolean",trapElement:"element"};(function(a){const{Config:u,Events:r,Selector:l}=a;class f extends u{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return o}static get DefaultType(){return c}static get NAME(){return t}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),r.off(document,e),r.on(document,s,(t=>this._handleFocusin(t))),r.on(document,i,(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,r.off(document,e))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const s=l.focusableChildren(e);0===s.length?e.focus():this._lastTabNavDirection===n?s[s.length-1].focus():s[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?n:"forward")}}a.FocusTrap=f,a.plugins.FocusTrap=f}).apply(void 0,[window.wecodeart])})();