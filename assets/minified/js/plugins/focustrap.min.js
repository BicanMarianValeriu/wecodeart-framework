(()=>{"use strict";const t="focustrap",e=`.wp.${t}`,i=`focusin${e}`,n=`keydown.tab${e}`,s="backward",o={autofocus:!0,trapElement:null},c={autofocus:"boolean",trapElement:"element"};(function(a){const{Config:u,Events:r,Selector:f}=a;a.FocusTrap=class extends u{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return o}static get DefaultType(){return c}static get NAME(){return t}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),r.off(document,e),r.on(document,i,(t=>this._handleFocusin(t))),r.on(document,n,(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,r.off(document,e))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=f.focusableChildren(e);0===i.length?e.focus():this._lastTabNavDirection===s?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?s:"forward")}}}).apply(void 0,[window.wecodeart])})();