(()=>{"use strict";const t={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],button:["type","data-wp-close"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]);const e={allowList:t,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},n={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},i={entry:"(string|element|function|null)",selector:"(string|element)"};(function(s){const{Config:o,fn:{sanitizeHtml:r,execute:l,isElement:c}}=s;class a extends o{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return e}static get DefaultType(){return n}static get NAME(){return"TemplateFactory"}static renderToString(t="",e={}){return t.replace(/{{([^}]+)}}/g,((t,n)=>{var i;let[s,o]=n.trim().split(/\s*\|\s*/),r=s.split(".").reduce(((t,e)=>t?.[e]),e);return null!==(i=null!=r?r:o)&&void 0!==i?i:`{{${n}}}`}))}static renderToHTML(e="",n={},i=!0,s=t){const o=document.createElement("div");o.innerHTML=a.renderToString(e,n);let l=o.firstChild;return i&&(l=r(l,s)),l}getContent(){return Object.values(this._config.content).map((t=>this._resolvePossibleFunction(t))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[e,n]of Object.entries(this._config.content))this._setContent(t,n,e);const e=t.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&e.classList.add(...n.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,n]of Object.entries(t))super._typeCheckConfig({selector:e,entry:n},i)}_setContent(t,e,n){const i=Element.prototype.querySelector.call(t,n);i&&((e=this._resolvePossibleFunction(e))?c(e)?this._putElementInTemplate(e,i):this._config.html?i.innerHTML=this._maybeSanitize(e):i.textContent=e:i.remove())}_maybeSanitize(t){return this._config.sanitize?r(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return l(t,[this])}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML="",void e.append(t);e.textContent=t.textContent}}s.Template=a}).apply(void 0,[window.wecodeart])})();