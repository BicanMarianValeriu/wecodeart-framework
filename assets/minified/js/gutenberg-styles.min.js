!function(e){var t={};function r(n){if(t[n])return t[n].exports;var c=t[n]={i:n,l:!1,exports:{}};return e[n].call(c.exports,c,c.exports,r),c.l=!0,c.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)r.d(n,c,function(t){return e[t]}.bind(null,c));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/wp-content/themes/wecodeart/assets/",r(r.s=2)}([function(e,t){e.exports=window.wp.element},function(e,t){var r=wp,n=(r.i18n.__,r.blocks.parse),c=r.data,o=c.select,s=c.subscribe,a=lodash.flattenDeep;s((function(){var e,t;e=function(e,t){if(!e)return"";var r=function e(r){var c=[];if("core/block"===r.name&&null!==t){var o=t.find((function(e){return r.attributes.ref===e.id}));o&&o.content&&c.push(n(o.content.raw||o.content).map((function(t){return[t,e(t)]})))}return void 0!==r.innerBlocks&&0<r.innerBlocks.length&&c.push(r.innerBlocks.map((function(t){return[t,e(t)]}))),c},c=e.map((function(e){return[e,r(e)]}));return a(c).map((function(e){return e.attributes&&e.attributes.hasCustomCSS&&e.attributes.customCSS&&null!==e.attributes.customCSS?e.attributes.customCSS+"\n":""})).reduce((function(e,t){return e+t}),"")}((0,(o("core/block-editor")||o("core/editor")).getBlocks)(),o("core").getEntityRecords("postType","wp_block")),null===(t=document.getElementById("wecodeart-blocks-dynamic-styles"))&&((t=document.createElement("style")).setAttribute("type","text/css"),t.setAttribute("id","wecodeart-blocks-dynamic-styles"),document.getElementsByTagName("head")[0].appendChild(t)),t.textContent!==e&&(t.textContent=e)}))},function(e,t,r){"use strict";r.r(t);var n=r(0),c=wp,__=c.i18n.__,o=c.element,s=o.useEffect,a=o.useRef,l=function(e){var t=e.attributes,r=e.setAttributes,c=e.clientId,o=t.customCSS,l=t.className,u=a(null),i=a(null),d=a(null);s((function(){r({className:m(),hasCustomCSS:!0})}),[t]),s((function(){if(r({className:m(),hasCustomCSS:!0}),o){var e=new RegExp("."+d.current,"g"),t=o.replace(e,"selector");i.current=t}else i.current="selector {\n}\n";u.current=wp.CodeMirror(document.getElementById("wecodeart-css-editor"),{value:i.current,autoCloseBrackets:!0,continueComments:!0,lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,lint:!0,gutters:["CodeMirror-lint-markers"],styleActiveLine:!0,styleActiveSelected:!0,extraKeys:{"Ctrl-Space":"autocomplete","Alt-F":"findPersistent","Cmd-F":"findPersistent"}}),u.current.on("change",(function(){var e=new RegExp("selector","g"),t=u.current.getValue().replace(e,".".concat(d.current));if(i.current=t,"selector {\n}\n".replace(/\s+/g,"")===i.current.replace(/\s+/g,""))return r({customCSS:null});r({customCSS:i.current})}))}),[]);var m=function(){var e,t=c.substr(0,8);return null!==i.current&&"selector {\n}\n".replace(/\s+/g,"")===i.current.replace(/\s+/g,"")?l:(l?((e=l).includes("css-")||((e=e.split(" ")).push("css-".concat(t)),e=e.join(" ")),d.current=e.split(" "),d.current=d.current.find((function(e){return e.includes("css-")}))):(e="css-".concat(t),d.current=e),e)};return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{class:"wecodeart-advanced-css"},Object(n.createElement)("hr",null),Object(n.createElement)("h2",{class:"wecodeart-advanced-css__title"},__("Add your custom CSS.","wecodeart")),Object(n.createElement)("div",{className:"wecodeart-advanced-css__editor",id:"wecodeart-css-editor"}),Object(n.createElement)("div",{class:"wecodeart-advanced-css__content"},Object(n.createElement)("p",null,__("Use","wecodeart")," ",Object(n.createElement)("code",null,"selector")," ",__("to target block wrapper.","wecodeart")),Object(n.createElement)("p",null,__('If you generate a new one just replace old selector with "selector" keyword for a new one.',"wecodeart")),Object(n.createElement)("p",null,__("Example:","wecodeart")),Object(n.createElement)("pre",{className:"wecodeart-advanced-css__help"},"selector {\n    background: #000;\n}\n\nselector img {\n    border-radius: 100%;\n}"),Object(n.createElement)("p",null,__("You can also use other CSS syntax here, such as media queries.","wecodeart")))))},u=wp,i=u.apiFetch,d=u.data,m=d.select,p=d.subscribe,b=d.dispatch,f=function(e){var t=e.message;return(0,b("core/notices").createNotice)("success",t,{isDismissible:!0,type:"snackbar"})},v=!0,g={},S=(p((function(){var e,t=m("core/block-editor").getSettings().__experimentalReusableBlocks,r=m("core/editor"),n=r.getCurrentPostId,c=r.isSavingPost,o=r.isPublishingPost,s=r.isAutosavingPost,a=r.isCurrentPostPublished,l=r.__experimentalIsSavingReusableBlock,u=m("core").isSavingEntityRecord;e=l?function(e){return l(e)}:function(e){return u("postType","wp_block",e)};var d=s(),p=o(),b=c(),S=t||[],w=a();S.map((function(t){var r=t.id,n=t.isTemporary;if(r){var c=e(r);c&&!n&&(g[r]={id:r,isSaving:!0}),c||n||!g[r]||r===g[r].id&&!c&&g[r].isSaving&&(g[r].isSaving=!1,i({path:"wecodeart/v1/save_block_meta/".concat(r),method:"POST"}).then(f))}})),(p||w&&b)&&!d?v=!1:v||(i({path:"wecodeart/v1/save_post_meta/".concat(n()),method:"POST"}).then(f),v=!0)})),r(1),lodash.assign),w=wp,y=w.hooks.addFilter,h=w.blocks.hasBlockSupport,k=w.compose.createHigherOrderComponent,C=w.blockEditor.InspectorAdvancedControls,E=wecodeartGutenberg,_=E.restrictedBlocks,O=E.removeStyles,j=void 0===O?[]:O;var x=k((function(e){return function(t){var r=t.name,c=t.isSelected,o=_.includes(r),s=h(r,"className",!0);return!o&&s&&c?Object(n.createElement)(n.Fragment,null,Object(n.createElement)(e,t),Object(n.createElement)(C,null,Object(n.createElement)(l,t))):Object(n.createElement)(e,t)}}),"withInspectorControl");y("blocks.registerBlockType","wecodeart/blocks/custom-css/addAttributes",(function(e){var t=e.name,r=_.includes(t),n=h(t,"className",!0);return!r&&n&&(e.attributes=S(e.attributes,{hasCustomCSS:{type:"boolean",default:!1},customCSS:{type:"string",default:null}})),e})),y("blocks.getSaveContent.extraProps","wecodeart/blocks/custom-css/applyExtraSettings",(function(e,t){var r=t.name;return j.includes(r)&&(e.style={}),e})),y("editor.BlockEdit","wecodeart/editor/custom-css/withInspectorControl",x)}]);