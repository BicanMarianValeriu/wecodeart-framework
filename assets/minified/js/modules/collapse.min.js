import{store as s,getContext as e,getElement as t,getConfig as i}from"@wordpress/interactivity";const{fn:{reflow:n,executeAfterTransition:a},Events:o,Selector:l}=wecodeart,c="collapse",r=`wecodeart/${c}`,d=`.${`wp.${c}`}`,g=`show${d}`,p=`shown${d}`,m=`hide${d}`,h=`hidden${d}`,{state:f,actions:w,callbacks:u}=s(r,{state:{get ariaLabel(){const{ariaLabel:{expanded:s,collapsed:t}={}}=i(),{isOpen:n,ariaLabel:{expanded:a=s,collapsed:o=t}={}}=e();return Boolean(n)?a:o},get isOpened(){const{isAnimating:s=!1,isOpen:t}=e();return s||t}},actions:{toggle(){const{isOpen:s}=e();s?w.hide():w.show()},show(){if(f.isOpened)return;const{ref:s}=t(),n=l.findOne(`#${s.getAttribute("aria-controls")}`);if(o.trigger(n,g).defaultPrevented)return;const{classNames:a}=i(),c=e();n.classList.remove(a?.collapse),n.classList.add(a?.collapsing);const r=u.getDimension();n.style[r]=0,c.isAnimating=!0,u.onShow(n);const d=`scroll${r[0].toUpperCase()+r.slice(1)}`;n.style[r]=`${n[d]}px`,c.isOpen=!0},hide(){if(!1===f.isOpened)return;const{ref:s}=t(),a=l.findOne(`#${s.getAttribute("aria-controls")}`);if(o.trigger(a,m).defaultPrevented)return;const c=u.getDimension();a.style[c]=`${a.getBoundingClientRect()[c]}px`,n(a);const{classNames:r}=i(),d=e();a.classList.add(r?.collapsing),a.classList.remove(r?.collapse,r?.show),d.isAnimating=!0,a.style[c]="",u.onHide(a),d.isOpen=!1}},callbacks:{onShow:s=>{const t=e(),{classNames:n}=i(),l=u.getDimension();a((()=>{t.isAnimating=!1,s.classList.remove(n?.collapsing),s.classList.add(n?.collapse,n?.show),s.style[l]="",o.trigger(s,p)}),s,!0)},onHide:s=>{const t=e(),{classNames:n}=i();a((()=>{t.isAnimating=!1,s.classList.remove(n?.collapsing),s.classList.add(n?.collapse),o.trigger(s,h)}),s,!0)},getDimension({ref:s}=t()){const e=s.closest("[class*=is-style-]");return e&&e.classList.contains("is-style-horizontal")?"width":"height"}}});