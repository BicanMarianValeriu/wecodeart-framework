import{store as e,getContext as t,getElement as s,getConfig as l}from"@wordpress/interactivity";let{fn:{reflow:i,executeAfterTransition:a},Events:n}=wecodeart,NAME="collapse",DATA_KEY="wp.collapse",EVENT_KEY=".wp.collapse",EVENT_SHOW=`show${EVENT_KEY}`,EVENT_SHOWN=`shown${EVENT_KEY}`,EVENT_HIDE=`hide${EVENT_KEY}`,EVENT_HIDDEN=`hidden${EVENT_KEY}`,{state:o,actions:r,callbacks:E}=e("wecodeart/collapse",{state:{get ariaLabel(){let{ariaLabel:{expanded:c,collapsed:d}={}}=l(),{isOpen:g,ariaLabel:{expanded:p=c,collapsed:N=d}={}}=t();return Boolean(g)?p:N},get isOpened(){let{isAnimating:h=!1,isOpen:m}=t();return h||m}},actions:{toggle(){let{isOpen:e}=t();e?r.hide():r.show()},show(){if(o.isOpened)return;let{ref:e}=s(),i=document.getElementById(e.getAttribute("aria-controls")),a=n.trigger(i,EVENT_SHOW);if(a.defaultPrevented)return;let{classNames:r}=l(),c=t();i.classList.remove(r?.collapse),i.classList.add(r?.collapsing);let d=E.getDimension({ref:e});i.style[d]=0,c.isAnimating=!0,E.onShow(i);let g=d[0].toUpperCase()+d.slice(1),p=`scroll${g}`;i.style[d]=`${i[p]}px`,c.isOpen=!0},hide(){if(!1===o.isOpened)return;let{ref:e}=s(),a=document.getElementById(e.getAttribute("aria-controls")),r=n.trigger(a,EVENT_HIDE);if(r.defaultPrevented)return;let c=E.getDimension({ref:e});a.style[c]=`${a.getBoundingClientRect()[c]}px`,i(a);let{classNames:d}=l(),g=t();a.classList.add(d?.collapsing),a.classList.remove(d?.collapse,d?.show),g.isAnimating=!0,a.style[c]="",E.onHide(a),g.isOpen=!1}},callbacks:{onShow(e){let s=t(),{classNames:i}=l(),o=E.getDimension({ref:e});a(()=>{s.isAnimating=!1,e.classList.remove(i?.collapsing),e.classList.add(i?.collapse,i?.show),e.style[o]="",n.trigger(e,EVENT_SHOWN)},e,!0)},onHide(e){let s=t(),{classNames:i}=l();a(()=>{s.isAnimating=!1,e.classList.remove(i?.collapsing),e.classList.add(i?.collapse),n.trigger(e,EVENT_HIDDEN)},e,!0)},getDimension({ref:e}=s()){let t=e.closest("[class*=is-style-]");return t&&t.classList.contains("is-style-horizontal")?"width":"height"}}});