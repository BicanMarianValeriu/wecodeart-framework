import{store as e,getContext as t,getElement as l,getConfig as a}from"@wordpress/interactivity";let{fn:{validateConfig:n},plugins:{Toast:o},Template:s}=wecodeart;if(void 0===o)throw TypeError("WeCodeArt's Toast require core Toast plugin - please enqueue it.");let NAME="toast",NAMESPACE=`wecodeart/${NAME}`;function createToastElement({header:e="",content:t="",className:l="",close:a=!0}){let n=document.getElementById("wp-toast-template").innerHTML,o=new s({content:{".wp-toast__header-text":e,".wp-toast__body":t,".wp-close":!0===Boolean(a)?" ":null},extraClass:l,template:n});return o.toHtml()}let{state:r}=e(NAMESPACE,{state:{elements:[]},actions:{add({show:e=!0,...t}){r.elements.unshift({show:e,...t})}},callbacks:{onAdd(){let{ref:e}=l(),{options:a}=t();r.elements.filter(({show:e})=>!1!==e).map((t,l)=>{let n=createToastElement(t);e.appendChild(n);let s=new o(n,{...a,...t});s.show(),t.show=!1,r.elements[l]=t})},validateConfig:()=>n(NAME,{...r,...t()},a(NAMESPACE))}});