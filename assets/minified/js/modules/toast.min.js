import{store as e,getContext as t,getElement as n,getConfig as o}from"@wordpress/interactivity";let{hooks:{applyFilters:l}}=wp,{fn:{validateConfig:a},plugins:{Toast:s},Template:i}=wecodeart;if(void 0===s)throw TypeError("WeCodeArt's Toast require core Toast plugin - please enqueue it.");let NAME="toast",NAMESPACE=`wecodeart/${NAME}`;function createToastElement({header:e="",content:t="",className:n="",close:o=!0}){let l=document.getElementById("wp-toast-template").innerHTML,a=new i({content:{".wp-toast__header-text":e,".wp-toast__body":t,".wp-close":!0===Boolean(o)?" ":null},extraClass:n,template:l});return a.toHtml()}let{state:r,actions:d,callbacks:c}=e(NAMESPACE,{state:{elements:[]},actions:{add({show:e=!0,...t}){r.elements.unshift({show:e,...t})}},callbacks:{onAdd(){let{ref:e}=n(),{options:t}=c.getConfig();r.elements.filter(({show:e})=>!1!==e).map((n,o)=>{let l=createToastElement(n);e.appendChild(l);let a=new s(l,{...t,...n});a.show(),n.show=!1,r.elements[o]=n})},getConfig(){let e=t(),n={...r,...e};return l("wecodeart.interactive.config",n,NAME)},validateConfig:()=>a(NAME,c.getConfig(),o(NAMESPACE))}});