(()=>{"use strict";const t={init(){document.addEventListener("click",(t=>{var e,n;const{target:i}=t,s=null!==(e=null===(n=i.closest(".wca-notice"))||void 0===n?void 0:n.id)&&void 0!==e?e:"";i.matches("[data-dismiss]")?this.dismissNew(t,s):i.classList.contains("notice-dismiss")&&this.dismiss(t,s)}))},dismiss(t,e){t.preventDefault(),this.ajax(e)},dismissNew(t,e){var n,i;t.preventDefault();const{target:s}=t,o=s.closest(".wca-notice");o.style.opacity=0,o.addEventListener("transitionend",(()=>{o.style.display="none",o.parentNode.removeChild(o)}),{once:!0}),this.ajax(e);const a=null!==(n=s.getAttribute("href"))&&void 0!==n?n:"",d=null!==(i=s.getAttribute("target"))&&void 0!==i?i:"";a&&"_blank"===d&&window.open(a,"_blank")},ajax(t){if(""===t)return;const e=document.getElementById(t),{nonce:n=""}=(null==e?void 0:e.dataset)||{};fetch(ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:`action=wca_dismiss_notification&notification=${encodeURIComponent(t)}&nonce=${encodeURIComponent(n)}`})}};document.addEventListener("DOMContentLoaded",(()=>{t.init()}))})();