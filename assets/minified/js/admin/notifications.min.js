(()=>{"use strict";const t={init(){document.addEventListener("click",(t=>{var e,i,n;const{target:o}=t,s=null!==(e=null===(i=o.closest(".wca-notice"))||void 0===i||null===(n=i.dataset)||void 0===n?void 0:n.id)&&void 0!==e?e:"";o.matches("[data-dismiss]")?this.dismissNew(t,s):o.classList.contains("notice-dismiss")&&this.dismiss(t,s)}))},dismiss(t,e){t.preventDefault(),this.ajax(e)},dismissNew(t,e){var i,n;t.preventDefault();const{target:o}=t,s=o.closest(".wca-notice");this.ajax(e),s.parentNode.removeChild(s);const a=null!==(i=o.getAttribute("href"))&&void 0!==i?i:"",d=null!==(n=o.getAttribute("target"))&&void 0!==n?n:"";a&&"_blank"===d&&window.open(a,"_blank")},ajax(t){if(""===t)return;const e=[...document.querySelectorAll(".wca-notice")].filter((e=>{let{dataset:{id:i=""}={}}=e;return i==t})).pop(),{nonce:i=""}=(null==e?void 0:e.dataset)||{};fetch(ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:`action=wca_dismiss_notification&notification=${encodeURIComponent(t)}&nonce=${encodeURIComponent(i)}`})}};document.addEventListener("DOMContentLoaded",(()=>{t.init()}))})();