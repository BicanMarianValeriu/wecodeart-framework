(()=>{"use strict";const t={init(){document.addEventListener("click",(t=>{var e;const{target:i}=t,n=null!==(e=i.closest(".wca-notice")?.dataset?.id)&&void 0!==e?e:"";i.matches("[data-dismiss]")?this.dismissNew(t,n):i.classList.contains("notice-dismiss")&&this.dismiss(t,n)}))},dismiss(t,e){t.preventDefault(),this.ajax(e)},dismissNew(t,e){var i,n;t.preventDefault();const{target:s}=t,o=s.closest(".wca-notice");this.ajax(e),o.parentNode.removeChild(o);const a=null!==(i=s.getAttribute("href"))&&void 0!==i?i:"",c=null!==(n=s.getAttribute("target"))&&void 0!==n?n:"";a&&"_blank"===c&&window.open(a,"_blank")},ajax(t){if(""===t)return;const e=[...document.querySelectorAll(".wca-notice")].filter((({dataset:{id:e=""}={}})=>e==t)).pop(),{nonce:i=""}=e?.dataset||{};fetch(ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:`action=wca_dismiss_notification&notification=${encodeURIComponent(t)}&nonce=${encodeURIComponent(i)}`})}};document.addEventListener("DOMContentLoaded",(()=>{t.init()}))})();