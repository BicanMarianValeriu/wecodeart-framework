"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(o){var n={};function r(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=o,r.c=n,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==_typeof(t)&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t,o){var n;!function(){var c={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var n=_typeof(o);if("string"===n||"number"===n)e.push(o);else if(Array.isArray(o)&&o.length){var r=i.apply(null,o);r&&e.push(r)}else if("object"===n)for(var a in o)c.call(o,a)&&o[a]&&e.push(a)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},function(e,t){function i(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var s=wp.blockEditor.getColorClassName;(0,wp.hooks.addFilter)("blocks.getSaveContent.extraProps","wecodeart/blocks/media-text/applyExtraSettings",function(e,t,o){if("core/media-text"===t.name){var n=o.mediaWidth,r=o.backgroundColor,a=o.customBackgroundColor,c={backgroundColor:s("background-color",r)?void 0:a};50!==n&&(c=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach(function(e){l(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}({},c,l({},"--media-width","".concat(n,"%;")))),e.style=c}return e})},function(e,t){function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}var o=lodash,r=o.split,a=o.replace,c=o.get,s=o.join,u=wp.i18n.__,n=wp.hooks,i=n.addFilter,p=n.removeFilter,m=wp.element.Fragment,d=wp.data,f=d.withSelect,b=(d.select,wp.compose),w=b.compose,y=b.createHigherOrderComponent,g=b.withState,h=wp.blocks.hasBlockSupport,v=wp.blockEditor.InspectorAdvancedControls,k=wp.components.FormTokenField,O=w(g({customClassNames:[]}),f(function(e,t){var o=e("core/block-editor").getSelectedBlock(),n=c(o,"attributes.className");return n&&(n=a(n,","," ")),o&&n&&s(t.customClassNames," ")!==n&&t.clientId===o.clientId&&t.setState({customClassNames:r(n," ")}),{suggestions:e("core/editor").getEditorSettings().wecodeart.customClasses}})),_=y(function(i){return O(function(e){var t=l({},e),o=h(t.name,"customClassName",!0),n=t.customClassNames,r=t.suggestions,a=t.isSelected,c=t.setState;return o&&a?wp.element.createElement(m,null,wp.element.createElement(i,t),wp.element.createElement(v,null,wp.element.createElement(k,{label:u("Additional CSS Class(es)","wecodeart"),value:n,suggestions:r,maxSuggestions:20,onChange:function(e){t.setAttributes({className:""!==e?s(e," "):void 0}),c({customClassNames:""!==e?e:void 0})}}))):wp.element.createElement(i,t)})},"withInspectorControl");p("editor.BlockEdit","core/editor/custom-class-name/with-inspector-control"),i("editor.BlockEdit","wecodeart/editor/custom-classes/withInspectorControl",_)},function(e,t){wp.i18n.__;var r=wp.blocks.parse,o=wp.data,n=o.select,a=o.subscribe,c="";a(function(){var e,t;c="",function o(e,n){e.forEach(function(t){if(t.attributes.hasCustomCSS&&t.attributes.customCSS&&null!==t.attributes.customCSS&&(c+=t.attributes.customCSS+"\n"),"core/block"===t.name&&null!==n){var e=n.find(function(e){return t.attributes.ref===e.id});e&&(e=r(e.content.raw),o(e,n))}void 0!==t.innerBlocks&&0<t.innerBlocks.length&&o(t.innerBlocks,n)})}((0,(n("core/block-editor")||n("core/editor")).getBlocks)(),n("core").getEntityRecords("postType","wp_block")),e=c,null===(t=document.getElementById("wca-css-editor-styles"))&&((t=document.createElement("style")).setAttribute("type","text/css"),t.setAttribute("id","wca-css-editor-styles"),document.getElementsByTagName("head")[0].appendChild(t)),t.textContent===e||(t.textContent=e)})},function(e,t,o){o.r(t);var n={backgroundType:{type:"string",default:"image"},backgroundImg:{type:"string"},backgroundPosition:{type:"string",default:"center center"},backgroundRepeat:{type:"string",default:"no-repeat"},backgroundSize:{type:"string"},backgroundOverlay:{type:"number",default:0},backgroundColor:{type:"string"},customBackgroundColor:{type:"string"},hasParallax:{type:"boolean",default:!1},focalPoint:{type:"object"},videoMuted:{type:"boolean",default:!0},videoLoop:{type:"boolean",default:!0},openPopover:{type:"boolean",default:!1}},r=lodash;function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}r.pick,r.get,r.findIndex;var c=wp.blockEditor.getColorClassName,m=function(e){var t,o=c("background-color",e.backgroundColor),n=e.backgroundSize?e.backgroundSize:"cover",r=[{"has-background":e.backgroundColor||e.customBackgroundColor||e.backgroundImg},a({},o,o),a({},"has-background-".concat(e.backgroundType),e.backgroundImg&&e.backgroundType),{"has-background-overlay":e.backgroundImg&&0!==e.backgroundOverlay},{"has-parallax":e.backgroundImg&&"image"===e.backgroundType&&e.hasParallax},{"is-transient":e.backgroundImg&&0===e.backgroundImg.indexOf("blob:")}];return e.backgroundOverlay&&r.push(a({},0===(t=e.backgroundOverlay)||50===t?null:"has-background-overlay-"+10*Math.round(t/10),e.backgroundImg&&0!==e.backgroundOverlay&&50!==e.backgroundOverlay)),n&&r.push(a({},"bg-".concat(n),e.backgroundImg&&"image"===e.backgroundType)),e.backgroundRepeat&&r.push(a({},"bg-".concat(e.backgroundRepeat),e.backgroundImg&&"image"===e.backgroundType)),e.backgroundPosition&&r.push(a({},"bg-".concat(e.backgroundPosition.split(" ").join("-")),e.backgroundImg&&"image"===e.backgroundType)),r},i=wp.components,l=i.SVG,s=i.Path,u=i.G,p={};p.background=wp.element.createElement(l,{height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(u,{fill:"none",fillRule:"evenodd",transform:"translate(2.762573 1)"},wp.element.createElement(s,{d:"m4.93810577 15.6496655-4.30419126-4.3041913c-.67516726-.6751672-.67516726-1.68791812 0-2.36308537l5.48573395-5.31694215 5.40133804 5.40133806c.6751673.67516725.6751673 1.68791816 0 2.36308536l-4.30419124 4.3041913c-.59077135.5907713-1.60352224.5907713-2.27868949-.0843959z",stroke:"currentColor",strokeWidth:"2"}),wp.element.createElement(s,{d:"m15.4031982 15.3120819c0 .9283549-.7595631 1.6879181-1.6879181 1.6879181s-1.6879181-.7595632-1.6879181-1.6879181c0-.928355 1.6879181-3.3758363 1.6879181-3.3758363s1.6879181 2.4474813 1.6879181 3.3758363z",fill:"currentColor"}),wp.element.createElement(s,{d:"m.21193497 10c0 .4219795.16879181.8439591.42197954 1.1815427l4.30419126 4.3041913c.67516725.6751672 1.68791814.6751672 2.36308539 0l4.30419124-4.3041913c.2531877-.3375836.4219796-.7595632.4219796-1.1815427z",fill:"currentColor"}),wp.element.createElement(s,{d:"m3.16579172.71158994 6.66727666 6.66727665",stroke:"currentColor",strokeWidth:"2"}))),p.edit=wp.element.createElement(l,{className:"dashicon","aria-hidden":!0,role:"img",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(s,{d:"m10.330727 5.86705523.8149993.81499936-8.02597188 8.02597191h-.81499935v-.8149994zm3.1891279-5.33293055c.2303259 0 .4517931.07972819.6289669.25690197l2.0729331 2.07293314c.3454889.34548885.3454889.90358624 0 1.24907509l-1.62114 1.62114002-3.3220083-3.32200823 1.6211401-1.62114002c.1683151-.16831509.398641-.25690197.6201082-.25690197zm-3.1891279 2.82592167 3.3220082 3.32200824-9.79770962 9.79770961h-3.32200824v-3.3220082z",transform:"translate(1.5 1.5)"})),p.trash=wp.element.createElement(l,{className:"dashicon","aria-hidden":!0,role:"img",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(s,{d:"m9 6.00065104v7.99934896h-6v-7.99934896zm-.85714286-6.00065104.85714286 1.00907841h3v2.01815683h-12v-2.01815683h3l.85714286-1.00907841zm-7.12701513 4.01388889h9.99696179v10.27380951c0 .9417659-.6413752 1.7123016-1.58423237 1.7123016h-6.85714286c-.94285714 0-1.55558656-.7705357-1.55558656-1.7123016z",transform:"translate(4 2)"}));var d=p,f=wp.i18n.__,b=wp.blockEditor,w=b.MediaUpload,y=b.MediaUploadCheck,g=wp.components,h=g.Toolbar,v=g.IconButton,k=g.Popover,O=g.MenuItem,S=wp.element;function C(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function E(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?C(Object(a),!0).forEach(function(e){var t,o,n;t=r,n=a[o=e],o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}S.Component,S.Fragment,wp.blockEditor.mediaUpload,wp.components.DropZone;var P=lodash.find,j=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=e.backgroundColor,n=e.customBackgroundColor,r=e&&e.backgroundImg&&"image"===e.backgroundType,a={};if(void 0!==o){if(void 0!==t){var c=P(t,{slug:o});void 0!==c&&void 0!==c.color&&(a=E({},a,{backgroundColor:c.color}))}}else void 0!==n&&(a=E({},a,{backgroundColor:n}));return E({},a,{backgroundImage:e.backgroundImg&&"image"===e.backgroundType?"url(".concat(e.backgroundImg,")"):void 0,backgroundPosition:r&&e.focalPoint&&!e.hasParallax?"".concat(100*e.focalPoint.x,"% ").concat(100*e.focalPoint.y,"%"):void 0})},x=wp.components,T=x.SVG,B=x.Path,N={};N.mobile=wp.element.createElement(T,{"aria-hidden":!0,className:"dashicon",role:"img",focusable:"false",height:"15",viewBox:"0 0 15 15",width:"15",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(B,{d:"m8.25 0h-6c-.825 0-1.5.61363636-1.5 1.36363636v10.27272724c0 .75.675 1.3636364 1.5 1.3636364h6c.825 0 1.5-.6136364 1.5-1.3636364v-10.27272724c0-.75-.675-1.36363636-1.5-1.36363636zm-.5 11h-5v-9h5z",transform:"translate(2.25 1)"})),N.desktopChrome=wp.element.createElement(T,{"aria-hidden":!0,className:"dashicon dashicon--desktop-chrome",role:"img",focusable:"false",height:"15",viewBox:"0 0 15 15",width:"15",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(B,{d:"m13.5 0h-12c-.8325 0-1.5.61363636-1.5 1.36363636v12.27272724c0 .75.6675 1.3636364 1.5 1.3636364h12l-.5-2h-11v-10h11v10l.5 2c.825 0 1.5-.6136364 1.5-1.3636364v-12.27272724c0-.75-.6675-1.36363636-1.5-1.36363636z"}));var A=N;function M(e){return(M="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function z(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=wp.i18n,L=R.__,H=R.sprintf,V=wp.element.Component,G=wp.components,U=G.RangeControl,q=G.TabPanel,W=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?I(e):t}(this,D(t).apply(this,arguments))).setGutterTo=e.setGutterTo.bind(I(e)),e.setGutterMobileTo=e.setGutterMobileTo.bind(I(e)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,V),z(t.prototype,[{key:"setGutterTo",value:function(e){this.props.setAttributes({gutter:e})}},{key:"setGutterMobileTo",value:function(e){this.props.setAttributes({gutterMobile:e})}},{key:"render",value:function(){var e=this.props,t=e.label,o=void 0===t?L("Gutter","wecodeart"):t,n=e.max,r=void 0===n?50:n,a=e.min,c=void 0===a?0:a,i=e.onChange,l=void 0===i?this.setGutterTo:i,s=e.onChangeMobile,u=void 0===s?this.setGutterMobileTo:s,p=e.step,m=void 0===p?5:p,d=e.value,f=void 0===d?this.props.attributes.gutter:d,b=e.valueMobile,w=void 0===b?this.props.attributes.gutterMobile:b;return wp.element.createElement(q,{className:"components-base-control wecodeart-responsive-tabs",activeClass:"is-active",initialTabName:"desk",tabs:[{name:"desk",title:A.desktopChrome,className:"wecodeart-responsive-tabs__item wecodeart-responsive-tabs__item--desktop"},{name:"mobile",title:A.mobile,className:"wecodeart-responsive-tabs__item wecodeart-responsive-tabs__item--mobile"}]},function(e){return"mobile"===e.name?wp.element.createElement(U,{label:H(L("Mobile %s","wecodeart"),o),value:w,onChange:function(e){return u(e)},min:c,max:r,step:m}):wp.element.createElement(U,{label:o,value:f,onChange:function(e){return l(e)},min:c,max:r,step:m})})}}]),t}();function J(e){return(J="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function $(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var X=lodash.isEmpty,ee=wp.i18n,te=ee.__,oe=ee.sprintf,ne=wp.element,re=ne.Component,ae=ne.Fragment,ce=wp.components,ie=ce.SelectControl,le=ce.RangeControl,se=ce.ToggleControl,ue=ce.PanelBody,pe=ce.Button,me=ce.FocalPointPicker,de=ce.ColorPalette,fe=ce.ColorIndicator,be=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?Y(e):t}(this,Z(t).apply(this,arguments))).setBackgroundPaddingTo=e.setBackgroundPaddingTo.bind(Y(e)),e.setBackgroundPaddingMobileTo=e.setBackgroundPaddingMobileTo.bind(Y(e)),e.onSelectRepeat=e.onSelectRepeat.bind(Y(e)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,re),$(t.prototype,[{key:"setBackgroundPaddingTo",value:function(e){this.props.setAttributes({backgroundPadding:e}),this.props.attributes.backgroundPadding<=0&&this.props.setAttributes({backgroundRadius:0})}},{key:"setBackgroundPaddingMobileTo",value:function(e){this.props.setAttributes({backgroundPaddingMobile:e})}},{key:"onSelectRepeat",value:function(e){"no-repeat"===e?this.props.setAttributes({backgroundRepeat:e,backgroundSize:"cover"}):this.props.setAttributes({backgroundRepeat:e,backgroundSize:"contain",focalPoint:void 0})}},{key:"render",value:function(){var t=this,e=this.props,o=e.select,n=e.attributes,r=e.backgroundColor,a=e.setBackgroundColor,c=e.hasGalleryControls,i=e.hasOverlay,l=e.setAttributes,s=n.align,u=n.backgroundImg,p=n.backgroundOverlay,m=n.backgroundPadding,d=n.backgroundPaddingMobile,f=n.backgroundPosition,b=n.backgroundRadius,w=n.backgroundRepeat,y=n.backgroundSize,g=n.backgroundType,h=void 0===g?"image":g,v=n.focalPoint,k=n.hasParallax,O=n.videoLoop,_=n.videoMuted,S=[{value:"top left",label:te("Top Left","wecodeart")},{value:"top center",label:te("Top Center","wecodeart")},{value:"top right",label:te("Top Right","wecodeart")},{value:"center left",label:te("Center Left","wecodeart")},{value:"center center",label:te("Center Center","wecodeart")},{value:"center right",label:te("Center Right","wecodeart")},{value:"bottom left",label:te("Bottom Left","wecodeart")},{value:"bottom center",label:te("Bottom Center","wecodeart")},{value:"bottom right",label:te("Bottom Right","wecodeart")}],C=[{value:"no-repeat",label:te("No Repeat","wecodeart")},{value:"repeat",label:te("Repeat","wecodeart")},{value:"repeat-x",label:te("Repeat Horizontally","wecodeart")},{value:"repeat-y",label:te("Repeat Vertically","wecodeart")}],E=[{value:"auto",label:te("Auto","wecodeart")},{value:"cover",label:te("Cover","wecodeart")},{value:"contain",label:te("Contain","wecodeart")}],P=o("core/block-editor").getSettings().colors;return wp.element.createElement(ue,{title:te("Background Settings","wecodeart"),icon:wp.element.createElement(fe,{colorValue:r.color}),initialOpen:!1,className:"components-panel__body--wecodeart-background-panel wecodeart-background-panel"},wp.element.createElement("br",null),wp.element.createElement(de,{colors:P,value:r.color,title:te("Background Color","wecodeart"),onChange:a}),u&&wp.element.createElement(ae,null,wp.element.createElement("hr",null),"image"===h&&wp.element.createElement(se,{label:te("Fixed Background","wecodeart"),checked:!!k,onChange:function(){return l({hasParallax:!k})}}),!k&&me&&"image"===h&&"repeat"!==w&&wp.element.createElement(me,{label:te("Focal Point","wecodeart"),url:u,value:v,onChange:function(e){return l({focalPoint:e})},className:"components-focal-point-picker--wecodeart"}),i&&wp.element.createElement(le,{label:te("Background Opacity","wecodeart"),value:p,onChange:function(e){return l({backgroundOverlay:e})},min:0,max:100,step:10}),c&&wp.element.createElement(ae,null,wp.element.createElement(W,K({},this.props,{label:te("Padding","wecodeart"),value:m,valueMobile:d,onChange:this.setBackgroundPaddingTo,onChangeMobile:this.setBackgroundPaddingMobileTo,min:5,max:100})),(!X(u)||!X(r.color))&&0<m&&"full"!==s&&wp.element.createElement(le,{label:te("Rounded Corners","wecodeart"),value:b,onChange:function(e){return l({backgroundRadius:e})},min:0,max:20,step:1})),"image"===h&&wp.element.createElement(ie,{label:te("Repeat","wecodeart"),className:"components-background-display-select--wecodeart",value:w||"no-repeat",options:C,onChange:function(e){return t.onSelectRepeat(e)}}),!me&&"image"===h&&wp.element.createElement(ie,{label:te("Position","wecodeart"),value:f||"center center",options:S,onChange:function(e){return l({backgroundPosition:e})}}),"no-repeat"===w&&"image"===h&&wp.element.createElement(ie,{label:te("Display","wecodeart"),value:y||"cover",options:E,onChange:function(e){return l({backgroundSize:e})}}),"video"===h&&wp.element.createElement(se,{label:te("Mute Video","wecodeart"),help:te(_?"Muting the background video.":"Toggle to mute the video.","wecodeart"),checked:!!_,onChange:function(){return l({videoMuted:!_})}}),"video"===h&&wp.element.createElement(se,{label:te("Loop Video","wecodeart"),help:te(O?"Looping the background video.":"Toggle to loop the video.","wecodeart"),checked:!!O,onChange:function(){return l({videoLoop:!O})}}),wp.element.createElement(pe,{className:"components-button--wecodeart-remove-background-image",type:"button",isDefault:!0,label:te("Remove background","wecodeart"),onClick:function(){l({backgroundImg:"",backgroundOverlay:0,backgroundRepeat:"no-repeat",backgroundPosition:"",backgroundSize:"cover",hasParallax:!1,backgroundPadding:0,backgroundPaddingMobile:0})}},oe(te("Remove %s","wecodeart"),h))))}}]),t}(),we=["image","video"],ye=wp.hooks.addFilter,ge=wp.compose.createHigherOrderComponent,he=["core/freeform","core/shortcode","core/nextpage","woocommerce/handpicked-products","woocommerce/products-by-attribute","woocommerce/products-by-tag","woocommerce/product-best-sellers","woocommerce/product-top-rated","woocommerce/product-on-sale","woocommerce/product-new"],ve=["core/spacer","core/separator"],ke=["core/list"],Oe=["core/columns","core/column"],_e=["core/columns"],Se=["core/column"];ye("editor.BlockEdit","wecodeart/editor/attributes",ge(function(o){return function(e){var t=e.name;return he.includes(t)||(e.attributes.wecodeart=e.attributes.wecodeart||{},void 0===e.attributes.wecodeart&&(e.attributes.wecodeart=Object.assign({},e.attributes.wecodeart))),wp.element.createElement(o,e)}},"withAttributes")),ye("blocks.registerBlockType","wecodeart/blocks/custom/attributes",function(e){var t=e.name;return void 0===e.attributes||he.includes(t)||(e.attributes=Object.assign(e.attributes,{wecodeart:{type:"object",default:{devices:!1,desktop:!0,tablet:!0,mobile:!0,loggedin:!0,loggedout:!0}}}),ke.includes(t)&&(e.attributes||(e.attributes={}),e.attributes=Object.assign(e.attributes,{textColor:{type:"string"},customTextColor:{type:"string"},fontSize:{type:"string"},customFontSize:{type:"number"}})),ve.includes(t)&&(e.supports||(e.supports={}),e.supports=Object.assign(e.supports,{anchor:!0})),Oe.includes(t)&&(e.supports||(e.supports={}),e.supports=Object.assign(e.supports,{hasBackground:!0}),e.attributes=Object.assign(e.attributes,n)),_e.includes(t)&&(e.attributes=Object.assign(e.attributes,{container:{type:"boolean",default:!0},gutters:{type:"boolean",default:!1}})),Se.includes(t)&&(e.attributes=Object.assign(e.attributes,{bootstrapColumns:{type:"object",default:{global:"col-12",sm:"col-sm",md:"",lg:"",xl:""}}}))),e});var Ce=o(0),Ee=o.n(Ce);function Pe(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var je=lodash.findIndex,xe=function(e){var t,o,n,r=e.wecodeart,a=[(t={},o=r.id,n=void 0!==r.id,o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n,t)];if(void 0===r.mobile||r.mobile||(a=[].concat(Pe(a),["d-none","d-md-block"])),void 0!==r.tablet&&!r.tablet){var c=je(a,"d-md-block");a.splice(c,1),a=[].concat(Pe(a),["d-md-none","d-lg-block"])}if(void 0!==r.desktop&&!r.desktop){var i=je(a,"d-lg-block");a.splice(i,1),a=[].concat(Pe(a),["d-lg-none"])}return a};function Te(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var Be=wp.i18n.__,Ne=wp.hooks.addFilter,Ae=wp.element.Fragment,Me=wp.components,ze=Me.ToggleControl,De=Me.PanelBody,Ie=Me.Path,Fe=Me.SVG,Re=wp.blockEditor,Le=Re.InspectorControls,He=Re.InnerBlocks;wp.compose.createHigherOrderComponent,Ne("blocks.getSaveElement","wecodeart/blocks/columns/getSaveElement",function(e,t,o){if("core/columns"!==t.name)return e;var n,r=o.container,a=o.className,c=o.align,i=o.verticalAlignment,l=o.gutters,s=Ee()("wca-section",a,m(o),xe(o)),u=Ee()("wca-section__inner",{container:r&&!1===["full","wide"].includes(c),"container-fluid":r&&!0===["full","wide"].includes(c)}),p=Ee()("row",(Te(n={},"align-items-".concat(i),i),Te(n,"no-gutters",r&&l),n));return wp.element.createElement("section",{className:s,style:j(o,{})},function(e){var t=e.backgroundImg,o=e.backgroundType,n=e.videoMuted,r=e.videoLoop;return["video"===o&&t?wp.element.createElement("div",{className:"wecodeart-video-bg position-absolute overflow-hidden w-100 h-100 pin-t pin-r pin-b pin-l"},wp.element.createElement("video",{className:"w-100 h-100 bg-center-center object-cover object-position",playsinline:"",autoPlay:"",muted:n,loop:r,src:t})):null]}(o),wp.element.createElement("div",{className:u},wp.element.createElement("div",{className:p},wp.element.createElement(He.Content,null))))}),Ne("blocks.registerBlockType","wecodeart/blocks/columns/patters",function(e){var t=e.name;return he.includes(t)||"core/columns"!==t||(e.patterns=[{name:"one-column",label:Be("One Column"),icon:wp.element.createElement(Fe,{className:"dashicon",height:"26",viewBox:"0 0 50 26",width:"50",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(Ie,{d:"m48.0833333 0h-46.16666663c-1.05416667 0-1.91666667.9-1.91666667 2v22c0 1.1.8625 2 1.91666667 2h46.16666663c1.0541667 0 1.9166667-.9 1.9166667-2v-22c0-1.1-.8625-2-1.9166667-2zm0 24h-46.16666663v-22h46.16666663z"})),isDefault:!0,innerBlocks:[["core/column",{width:100,bootstrapColumns:{global:"col-12",sm:"col-sm"}}]]}]),e}),Ne("editor.BlockEdit","wecodeart/editor/columns/withColumnsControls",function(u){return function(e){var t=e.name,o=e.isSelected;if(he.includes(t)||"core/columns"!==t||!o)return wp.element.createElement(u,e);var n=e.attributes,r=e.setAttributes,a=n.container,c=n.gutters,i=function(e){return Be(e?"enabled":"disabled","wecodeart")},l=sprintf(Be("Container wrapper is now %s!","wecodeart"),i(a)),s=sprintf(Be("Gutters are now %s!","wecodeart"),i(!c));return wp.element.createElement(Ae,null,wp.element.createElement(u,e),wp.element.createElement(Le,null,wp.element.createElement(De,{title:Be("Section Settings","wecodeart"),initialOpen:!1,className:"components-panel__body--wecodeart-panel"},wp.element.createElement("br",null),wp.element.createElement(ze,{label:Be("Enable Container Wrapper?","wecodeart"),help:l,checked:!!a,onChange:function(){return r({container:!a})}}),!!a&&wp.element.createElement(ze,{label:Be("Disable Gutters?","wecodeart"),help:s,checked:!!c,onChange:function(){return r({gutters:!c})}}))))}});var Ve=wp.components,Ge=Ve.SVG,Ue=Ve.Path,qe={};qe.global=wp.element.createElement(Ge,{viewBox:"0 0 496 512",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(Ue,{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"})),qe.xs=wp.element.createElement(Ge,{viewBox:"0 0 333.197 333.197",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(Ue,{d:"M317.239,82.529l-66.571-66.571c-21.279-21.277-55.898-21.277-77.178,0L15.958,173.49   c-21.277,21.278-21.277,55.899,0,77.178l66.571,66.571c10.64,10.639,24.614,15.958,38.589,15.958s27.949-5.319,38.589-15.958   L275.79,201.156c2.929-2.93,2.929-7.678,0-10.607c-2.93-2.928-7.678-2.928-10.607,0l-96.948,96.948L60.467,179.73   c-2.93-2.928-7.678-2.928-10.607,0c-2.929,2.93-2.929,7.678,0,10.607l107.768,107.767l-8.527,8.527   c-7.474,7.475-17.411,11.591-27.981,11.591s-20.508-4.116-27.981-11.591l-66.571-66.571c-7.475-7.474-11.591-17.411-11.591-27.981   s4.116-20.508,11.591-27.981L169.463,41.2l127.838,127.838c0.183,0.183,0.374,0.354,0.57,0.515   c1.375,1.121,3.055,1.682,4.734,1.682s3.359-0.561,4.734-1.682c0.196-0.16,0.387-0.332,0.57-0.515l9.331-9.331   C338.517,138.429,338.517,103.808,317.239,82.529z M306.632,149.1l-4.027,4.027L180.07,30.593l4.027-4.027   c7.474-7.475,17.411-11.591,27.981-11.591s20.508,4.116,27.981,11.591l66.571,66.571c7.475,7.474,11.591,17.411,11.591,27.981   S314.106,141.626,306.632,149.1z"})),qe.sm=wp.element.createElement(Ge,{viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(Ue,{d:"M196 448h-72c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v8c0 6.6-5.4 12-12 12zM320 48v416c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V48C0 21.5 21.5 0 48 0h224c26.5 0 48 21.5 48 48zm-32 0c0-8.8-7.2-16-16-16H48c-8.8 0-16 7.2-16 16v416c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V48z"})),qe.md=wp.element.createElement(Ge,{viewBox:"0 0 448 512",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(Ue,{d:"M256 416c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-21.3 14.3-32 32-32s32 14.3 32 32zM448 48v416c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V48C0 21.5 21.5 0 48 0h352c26.5 0 48 21.5 48 48zm-32 0c0-8.8-7.2-16-16-16H48c-8.8 0-16 7.2-16 16v416c0 8.8 7.2 16 16 16h352c8.8 0 16-7.2 16-16V48z"})),qe.lg=wp.element.createElement(Ge,{viewBox:"0 0 640 512",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(Ue,{d:"M624 352h-48V64c0-35.2-28.8-64-64-64H128C92.8 0 64 28.8 64 64v288H16c-8.8 0-16 7.2-16 16v48c0 52.8 43.2 96 96 96h448c52.8 0 96-43.2 96-96v-48c0-8.8-7.2-16-16-16zM112 64c0-8.67 7.33-16 16-16h384c8.67 0 16 7.33 16 16v288H112V64zm480 352c0 26.47-21.53 48-48 48H96c-26.47 0-48-21.53-48-48v-16h180.9c5.57 9.39 15.38 16 27.1 16h128c11.72 0 21.52-6.61 27.1-16H592v16z"})),qe.xl=wp.element.createElement(Ge,{viewBox:"0 0 640 512",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(Ue,{d:"M528 464H112a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16zM592 0H48A48 48 0 0 0 0 48v320a48 48 0 0 0 48 48h544a48 48 0 0 0 48-48V48a48 48 0 0 0-48-48zm0 368H48V48h544z"}));var We=qe;function Je(e){return(Je="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function Ke(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function $e(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Ze(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var et=wp.i18n,tt=et.__,ot=et.sprintf,nt=wp.element.Fragment,rt=wp.element.Component,at=wp.components,ct=at.SelectControl,it=at.TabPanel,lt=wp.compose.compose,st=wp.data.withSelect,ut=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==Je(t)&&"function"!=typeof t?Qe(e):t}(this,Ye(t).apply(this,arguments))).setColumn=e.setColumn.bind(Qe(e)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(t,rt),Ze(t.prototype,[{key:"setColumn",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"global",o=this.props,n=o.attributes.bootstrapColumns;(0,o.setAttributes)({bootstrapColumns:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ke(Object(o),!0).forEach(function(e){$e(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Ke(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}({},n,$e({},t,e))})}},{key:"getSelectOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"global",t=this.props.columnsClasses,o=function(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(t[e].map(function(e){return{value:e,label:function(e){var t=e,o=function(e){var t=e.match(/\d+$/);return!!t&&parseInt(t[0])};if(e.endsWith("-12"))t=tt("Full Width","wecodeart");else if(o(e)){var n=o(e);t=ot(tt("%s/12","wecodeart"),n)}else t=e.endsWith("-auto")?tt("Auto - Shrink","wecodeart"):tt("Auto - Expand","wecodeart");return t}(e)}}));return"global"!==e&&o.unshift({value:"",label:tt("None","wecodeart")}),o}},{key:"render",value:function(){var n=this,e=this.props,t=e.label,r=void 0===t?tt("Column Width - %s","wecodeart"):t,o=e.onChange,a=void 0===o?this.setColumn:o,c=e.columnsClasses,i=e.attributes.bootstrapColumns;return void 0===c?null:wp.element.createElement(it,{className:"components-base-control wecodeart-horizontal-tabs",activeClass:"is-active",initialTabName:"global",tabs:[{name:"global",title:We.global,className:"wecodeart-horizontal-tabs__item wecodeart-horizontal-tabs__item--global"},{name:"sm",title:We.sm,className:"wecodeart-horizontal-tabs__item wecodeart-horizontal-tabs__item--sm"},{name:"md",title:We.md,className:"wecodeart-horizontal-tabs__item wecodeart-horizontal-tabs__item--md"},{name:"lg",title:We.lg,className:"wecodeart-horizontal-tabs__item wecodeart-horizontal-tabs__item--lg"},{name:"xl",title:We.xl,className:"wecodeart-horizontal-tabs__item wecodeart-horizontal-tabs__item--xl"}]},function(e){var t=e.name,o=""===i[t];return wp.element.createElement(nt,null,wp.element.createElement(ct,{className:"components-font-size-picker__select",label:ot(r,t.toUpperCase()),value:i[t],onChange:function(e){return a(e,t)},options:n.getSelectOptions(t)}),o&&wp.element.createElement("span",{class:"wecodeart-horizontal-tabs__item-help"},wp.element.createElement("small",null,tt("Previous breakpoint column size is used.","wecodeart"))))})}}]),t}(),pt=lt(st(function(e){var t=e("core/editor").getEditorSettings().wecodeart,o=(t=void 0===t?{}:t).columnsClasses;return{columnsClasses:void 0===o?void 0:o,select:e}}))(ut);function mt(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var dt=wp.i18n.__,ft=wp.blockEditor.InspectorControls,bt=wp.components.PanelBody,wt=wp.element.Fragment,yt=wp.hooks.addFilter;yt("editor.BlockEdit","wecodeart/editor/columns/withColumnControls",function(n){return function(e){var t=e.name,o=e.isSelected;return!he.includes(t)&&"core/column"===t&&o?wp.element.createElement(wt,null,wp.element.createElement(n,e),wp.element.createElement(ft,null,wp.element.createElement(bt,{title:dt("Bootstrap Settings","wecodeart"),initialOpen:!1,className:"components-panel__body--wecodeart-column-panel"},wp.element.createElement("p",{className:"components-base-control__label"},dt("Bootstrap columns uses mobile-first approach. This option has no visual preview but it will affect the live page.","wecodeart")),wp.element.createElement(pt,e)))):wp.element.createElement(n,e)}}),yt("blocks.getSaveContent.extraProps","wecodeart/blocks/columns/applyExtraSettings",function(e,t,o){if("core/column"===t.name){var n=o.bootstrapColumns,r=n.global,a=n.xs,c=n.sm,i=n.md,l=n.lg,s=n.xl,u=["col"];(r||a||c||i||l||s)&&(u=[].concat(function(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(u),[mt({},r,"col"!==r),mt({},c,"col-sm-12"!==c&&"col-12"===r),mt({},i,i),mt({},l,l),mt({},s,s)])),e.className=Ee()(e.className,u)}return e}),o(1);var gt=lodash.find;function ht(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=o.fontSizes,r=o.colors,a=e.textColor,c=e.customTextColor,i=e.fontSize,l=e.customFontSize,s={};if(void 0!==i){var u=gt(n,{slug:i});void 0!==u&&void 0!==u.size&&(s.fontSize=u.size+"px")}else void 0!==l&&(s.fontSize=l+"px");if(void 0!==a){if(void 0!==r){var p=gt(r,{slug:a});void 0!==p&&void 0!==p.color&&(s.color=p.color)}}else void 0!==c&&(s.color=c);return s}function vt(){return(vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function kt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}var Ot=lodash.assign,_t=wp.i18n.__,St=wp.data.withSelect,Ct=wp.element.Fragment,Et=wp.blockEditor,Pt=Et.InspectorControls,jt=Et.FontSizePicker,xt=Et.withFontSizes,Tt=Et.withColors,Bt=Et.PanelColorSettings,Nt=wp.components,At=Nt.PanelBody,Mt=Nt.withFallbackStyles,zt=wp.hooks.addFilter,Dt=wp.compose,It=Dt.compose,Ft=Dt.createHigherOrderComponent,Rt=It([Tt({textColor:"color"}),xt("fontSize"),Mt(function(e,t){var o=t.attributes,n=o.fontSize,r=o.customFontSize,a=o.textColor,c=e.querySelector('[contenteditable="true"]'),i=c?getComputedStyle(c):null;return{fallbackTextColor:a||!i?void 0:i.color,fallbackFontSize:n||r||!i?void 0:parseInt(i.fontSize)||void 0}})])(function(e){var t=e.fallbackFontSize,o=e.fontSize,n=e.setFontSize,r=e.textColor,a=e.setTextColor;return wp.element.createElement(Pt,null,wp.element.createElement(At,{title:_t("Text Settings","wecodeart"),initialOpen:!1,className:"wecodeart-panel"},wp.element.createElement(jt,{fallbackFontSize:t,value:o.size,onChange:n})),wp.element.createElement(Bt,{title:_t("Color Settings","wecodeart"),initialOpen:!1,colorSettings:[{value:r.color,onChange:a,label:_t("Text Color","wecodeart")}]}))}),Lt=It(St(function(e){var t=e("core/block-editor").getSettings(),o=t.fontSizes,n=t.colors;return{selected:e("core/block-editor").getSelectedBlock(),fontSizes:o,select:e,colors:n}})),Ht=Ft(function(s){return Lt(function(e){var t=e.select,o=function(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],0<=t.indexOf(o)||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],0<=t.indexOf(o)||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}(e,["select"]),n=o.wrapperProps,r={},a=t("core/block-editor").getBlock(o.clientId).attributes,c=t("core/block-editor").getBlockName(o.clientId);if(ke.includes(c)){var i=a.customFontSize,l=a.fontSize;(i||l)&&(r=Ot(r,{"data-custom-fontsize":1})),n=function(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?kt(Object(a),!0).forEach(function(e){var t,o,n;t=r,n=a[o=e],o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):kt(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}({},n,{style:ht(a,c,o)},r)}return wp.element.createElement(s,vt({},o,{wrapperProps:n}))})},"withTextSettings");function Vt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function Gt(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Vt(Object(a),!0).forEach(function(e){var t,o,n;t=r,n=a[o=e],o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):Vt(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function Ut(){return(Ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}zt("editor.BlockEdit","wecodeart/editor/with-text/withBlockPanel",Ft(function(n){return Lt(function(e){var t=vt({},e),o=t.name;return t.isSelected&&ke.includes(o)?wp.element.createElement(Ct,null,wp.element.createElement(n,t),wp.element.createElement(Rt,t)):wp.element.createElement(n,t)})},"withBlockPanel")),zt("editor.BlockListBlock","wecodeart/editor/with-text/withTextSettings",Ht),zt("blocks.getSaveContent.extraProps","wecodeart/blocks/with-text/applyTextSettings",function(e,t,o){if(ke.includes(t.name)){void 0!==e.style?e.style=Ot(e.style,ht(o,t.name)):e.style=ht(o,t.name);var n=o.customFontSize,r=o.fontSize,a=o.textColor;r?e.className=Ee()(e.className,"has-"+r+"-font-size"):n&&(e.className=Ee()(e.className,"has-custom-size")),a&&(e.className=Ee()(e.className,"has-"+a+"-color"))}return e});var qt=wp.blocks.hasBlockSupport,Wt=wp.blockEditor,Jt=Wt.BlockControls,Kt=Wt.InspectorControls,$t=Wt.withColors,Zt=wp.compose.createHigherOrderComponent,Yt=wp.compose.compose,Qt=wp.data,Xt=Qt.select,eo=Qt.withSelect,to=wp.element.Fragment,oo=wp.components.withFallbackStyles,no=wp.hooks.addFilter,ro=Yt([eo(function(e){return{selected:e("core/block-editor").getSelectedBlock(),select:e}}),$t("backgroundColor"),oo(function(e,t){var o=t.attributes,n=o.backgroundColor,r=o.customBackgroundColor,a=e.querySelector('[contenteditable="true"]'),c=a?getComputedStyle(a):null;return{fallbackBackgroundColor:n||r||!c?void 0:c.backgroundColor}})]),ao=Zt(function(n){return ro(function(e){var t=e.name,o=e.isSelected;return!he.includes(t)&&qt(t,"hasBackground")&&o?wp.element.createElement(to,null,wp.element.createElement(n,e),wp.element.createElement(Jt,null,function(e){var t=e.attributes,o=e.setAttributes,n=t.backgroundImg,r=t.openPopover;return wp.element.createElement(y,null,wp.element.createElement(h,{className:n?"components-dropdown-menu":""},r&&wp.element.createElement(k,{position:"bottom center",className:"components-popover--wca"},wp.element.createElement(w,{onSelect:function(e){o({backgroundImg:e.url,backgroundType:e.type,openPopover:!r})},allowedTypes:we,value:n,render:function(e){var t=e.open;return wp.element.createElement(O,{className:"components-dropdown-menu__menu-item",icon:"edit",role:"menuitem",onClick:t},f("Edit Background","wecodeart"))}}),wp.element.createElement(O,{className:"components-dropdown-menu__menu-item",icon:"trash",role:"menuitem",onClick:function(){o({backgroundImg:"",backgroundOverlay:0,backgroundRepeat:"no-repeat",backgroundPosition:"",backgroundSize:"cover",hasParallax:!1,openPopover:!r})}},f("Remove Background","wecodeart"))),n?wp.element.createElement(v,{className:"components-dropdown-menu__toggle",icon:d.background,"aria-haspopup":"true",label:f("Background","wecodeart"),tooltip:f("Background","wecodeart"),onClick:function(){return o({openPopover:!r})}},wp.element.createElement("span",{className:"components-dropdown-menu__indicator"})):wp.element.createElement(w,{onSelect:function(e){o({backgroundImg:e.url,backgroundType:e.type})},allowedTypes:we,value:n,render:function(e){var t=e.open;return wp.element.createElement(v,{className:"components-toolbar__control",label:f("Background","wecodeart"),icon:d.background,onClick:t})}})))}(e)),wp.element.createElement(Kt,null,wp.element.createElement(be,Ut({},e,{hasOverlay:!0})))):wp.element.createElement(n,e)})},"withBackgroundControls"),co=Zt(function(c){return function(e){var t=e.name,o=e.wrapperProps,n={};if(!he.includes(t)&&qt(t,"hasBackground")){var r=e.attributes,a=Xt("core/block-editor").getSettings().colors;""!==r.backgroundImg&&(n=Gt({},n,{},{"data-wca-background":1})),o=Gt({},o,{style:j(r,a)},n)}return wp.element.createElement(c,Ut({},e,{wrapperProps:o}))}},"withBackgroundSettings");function io(e){return(io="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function lo(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function so(e){return(so=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uo(e,t){return(uo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}no("editor.BlockEdit","wecodeart/editor/with-background/withBackgroundControls",ao),no("editor.BlockListBlock","wecodeart/editor/with-background/withBackgroundSettings",co),no("blocks.getSaveContent.extraProps","wecodeart/blocks/with-background/applyExtraSettings",function(e,t,o){var n=t.name;return!he.includes(n)&&qt(n,"hasBackground")&&(e.style=j(o,{}),e.className=Ee()(e.className,m(o))),e}),o(2);var po=wp.i18n.__,mo=wp.element,fo=mo.Component,bo=mo.Fragment,wo=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==io(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,so(t).apply(this,arguments))).editor,e.customCSS="",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uo(e,t)}(t,fo),lo(t.prototype,[{key:"componentDidMount",value:function(){var e,o,n=this,t=this.props.clientId.substr(0,8);if(o=this.props.attributes.className?((e=this.props.attributes.className).includes("wcacss-")||((e=e.split(" ")).push("wcacss-".concat(t)),e=e.join(" ")),(o=e.split(" ")).find(function(e){return e.includes("wcacss")})):e="wcacss-".concat(t),this.props.setAttributes({hasCustomCSS:!0,className:e}),this.props.attributes.customCSS){var r=this.props.attributes.customCSS.replace(/.wcacss-[^#\s]*/g,"selector");this.customCSS=r}else this.customCSS="selector {\n}\n";this.editor=wp.CodeMirror(document.getElementById("wecodeart-css-editor"),{value:this.customCSS,autoCloseBrackets:!0,continueComments:!0,lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,lint:!0,gutters:["CodeMirror-lint-markers"],styleActiveLine:!0,styleActiveSelected:!0,extraKeys:{"Ctrl-Space":"autocomplete","Alt-F":"findPersistent","Cmd-F":"findPersistent"}}),this.editor.on("change",function(){var e=new RegExp("selector","g"),t=n.editor.getValue().replace(e,".".concat(o));if(n.customCSS=t,"selector {\n}\n".replace(/\s+/g,"")===n.customCSS.replace(/\s+/g,""))return n.props.setAttributes({customCSS:null});n.props.setAttributes({customCSS:n.customCSS})})}},{key:"render",value:function(){return wp.element.createElement(bo,null,wp.element.createElement("div",{class:"wecodeart-advanced-css"},wp.element.createElement("hr",null),wp.element.createElement("h2",{class:"wecodeart-advanced-css__title"},po("Add your custom CSS.","wecodeart")),wp.element.createElement("div",{className:"wecodeart-advanced-css__editor",id:"wecodeart-css-editor"}),wp.element.createElement("div",{class:"wecodeart-advanced-css__content"},wp.element.createElement("p",null,po("Use","wecodeart")," ",wp.element.createElement("code",null,"selector")," ",po("to target block wrapper.","wecodeart")),wp.element.createElement("p",null,po("Example:","wecodeart")),wp.element.createElement("pre",{className:"wecodeart-advanced-css__help"},"selector {\n    background: #000;\n}\n\nselector img {\n    border-radius: 100%;\n}"),wp.element.createElement("p",null,po("You can also use other CSS syntax here, such as media queries.","wecodeart")))))}}]),t}(),yo=(o(3),lodash.assign),go=wp.blocks.hasBlockSupport,ho=wp.compose.createHigherOrderComponent,vo=wp.blockEditor.InspectorAdvancedControls,ko=wp.element.Fragment,Oo=wp.hooks.addFilter,_o=ho(function(n){return function(e){var t=!he.includes(e.name),o=go(e.name,"customClassName",!0);return t&&o&&e.isSelected?wp.element.createElement(ko,null,wp.element.createElement(n,e),wp.element.createElement(vo,null,wp.element.createElement(wo,{clientId:e.clientId,setAttributes:e.setAttributes,attributes:e.attributes}))):wp.element.createElement(n,e)}},"withInspectorControl");Oo("blocks.registerBlockType","wecodeart/blocks/custom-css/addAttributes",function(e){return!he.includes(e.name)&&go(e,"customClassName",!0)&&(e.attributes=yo(e.attributes,{hasCustomCSS:{type:"boolean",default:!1},customCSS:{type:"string",default:null}})),e}),Oo("editor.BlockEdit","wecodeart/editor/custom-css/withInspectorControl",_o);var So=wp.i18n.__,Co=wp.data.dispatch,Eo=wp.element.Fragment,Po=wp.components.ToggleControl,jo=wp.i18n.__,xo=wp.hooks.addFilter,To=wp.element.Fragment,Bo=wp.blockEditor.InspectorControls,No=wp.compose.createHigherOrderComponent,Ao=wp.components.PanelBody;xo("editor.BlockEdit","wecodeart/editor/visibility/withVisibilityControls",No(function(r){return function(e){var t=e.name,o=e.isSelected,n=e.isDisabledDevices;return wp.element.createElement(To,null,wp.element.createElement(r,e),o&&!n&&!he.includes(t)&&wp.element.createElement(Bo,null,wp.element.createElement(Ao,{title:jo("Visibility","wecodeart"),initialOpen:!1,className:"wecodeart-panel"},wp.element.createElement("p",null,wp.element.createElement("small",null,jo("Attention: The display settings will only take effect once you are on the live page, and not while you're editing in Gutenberg.","wecodeart"))),function(e){var c=e.clientId,t=e.attributes,i=e.reloadModal,l=t.wecodeart,o=function(e){var t=!l[e];delete l[e];var o,n,r,a=Object.assign((r=t,(n=e)in(o={})?Object.defineProperty(o,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[n]=r,o),l);Co("core/block-editor").updateBlockAttributes(c,{wecodeart:a}),i&&i()};if(void 0!==l)return wp.element.createElement(Eo,null,wp.element.createElement(Po,{label:So("Hide on Mobile","wecodeart"),checked:void 0!==l.mobile&&!l.mobile,onChange:function(){return o("mobile")}}),wp.element.createElement(Po,{label:So("Hide on Tablet","wecodeart"),checked:void 0!==l.tablet&&!l.tablet,onChange:function(){return o("tablet")}}),wp.element.createElement(Po,{label:So("Hide on Desktop","wecodeart"),checked:void 0!==l.desktop&&!l.desktop,onChange:function(){return o("desktop")}}))}(e))))}},"withAdvancedControls")),xo("blocks.getSaveContent.extraProps","wecodeart/blocks/visibility/applyExtraClass",function(e,t,o){var n=o.wecodeart,r=t.name;return he.includes(r)||void 0===n||(void 0!==n.mobile&&!n.mobile||void 0!==n.tablet&&!n.tablet||void 0!==n.desktop&&!n.desktop)&&(e.className=Ee()(e.className,xe(o))),e});var Mo=wp.i18n.__,zo=[{title:Mo("Markdown Formatting","wecodeart"),shortcuts:[{keyCombination:["##","SPACE"],description:Mo("Large header (h2)","wecodeart")},{keyCombination:["###","SPACE"],description:Mo("Medium header (h3)","wecodeart")},{keyCombination:["####","SPACE"],description:Mo("Small header (h4)","wecodeart")},{keyCombination:["1.","SPACE"],description:Mo("Numbered list","wecodeart")},{keyCombination:["*","SPACE"],description:Mo("Bulleted list","wecodeart")},{keyCombination:[">","SPACE"],description:Mo("Blockquote","wecodeart")},{keyCombination:["_italic_"],description:Mo("Italic","wecodeart")},{keyCombination:["*bold*"],description:Mo("Bold","wecodeart")},{keyCombination:["~Strikethrough~"],description:Mo("Strikethrough","wecodeart")},{keyCombination:["`code`"],description:Mo("Code","wecodeart")}]}];function Do(e){return(Do="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function Io(){return(Io=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function Fo(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ro(e){return(Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lo(e,t){return(Lo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ho=lodash.castArray,Vo=wp.i18n.__,Go=wp.element,Uo=Go.Fragment,qo=Go.Component,Wo=wp.editPost.PluginMoreMenuItem,Jo=wp.compose,Ko=Jo.compose,$o=Jo.ifCondition,Zo=wp.data,Yo=(Zo.select,Zo.withSelect),Qo=wp.components,Xo=Qo.withSpokenMessages,en=Qo.Modal,tn=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==Do(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,Ro(t).apply(this,arguments))).state={isOpen:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lo(e,t)}(t,qo),Fo(t.prototype,[{key:"render",value:function(){var e=this,n=function(e){var t=e.shortcuts;return wp.element.createElement("dl",{className:"edit-post-keyboard-shortcut-help__shortcut-list"},t.map(function(e,t){var o=e.keyCombination,n=e.description,r=e.ariaLabel;return wp.element.createElement("div",{className:"edit-post-keyboard-shortcut-help__shortcut",key:t},wp.element.createElement("div",{className:"edit-post-keyboard-shortcut-help__shortcut-description"},n),wp.element.createElement("div",{className:"edit-post-keyboard-shortcut-help__shortcut-term"},wp.element.createElement("kbd",{className:"edit-post-keyboard-shortcut-help__shortcut-key-combination","aria-label":r},Ho(o).map(function(e,t){return"+"===e?wp.element.createElement(Uo,{key:t},e):wp.element.createElement("kbd",{key:t,className:"edit-post-keyboard-shortcut-help__shortcut-key"},e)}))))}))},o=function(e){var t=e.title,o=e.shortcuts;return wp.element.createElement("section",{className:"edit-post-keyboard-shortcut-help__section"},wp.element.createElement("h2",{className:"edit-post-keyboard-shortcut-help__section-title"},t),wp.element.createElement(n,{shortcuts:o}))};return wp.element.createElement(Uo,null,wp.element.createElement(Wo,{icon:null,role:"menuitemcheckbox",onClick:function(){e.setState({isOpen:!0})}},Vo("Markdown Formatting","wecodeart")),this.state.isOpen?wp.element.createElement(en,{title:Vo("Keyboard Shortcuts","wecodeart"),onRequestClose:function(){return e.setState({isOpen:!1})},closeLabel:Vo("Close","wecodeart"),icon:null,className:"wca-modal-component components-modal--wca-markdown"},zo.map(function(e,t){return wp.element.createElement(o,Io({key:t},e))})):null)}}]),t}(),on={name:"wca-markdown-formatting",render:Ko(Yo(function(){return{isDisabled:!1}}),$o(function(e){return!e.isDisabled}),Xo)(tn)};function nn(e){return(nn="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function rn(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function an(e){return(an=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cn(e,t){return(cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ln=wp.data,sn=ln.withSelect,un=ln.dispatch,pn=wp.compose.compose,mn=wp.blocks.parse,dn=wp.element.Component,fn=wp.components.withSpokenMessages,bn=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==nn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,an(t).apply(this,arguments))).state={isLoaded:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cn(e,t)}(t,dn),rn(t.prototype,[{key:"componentDidMount",value:function(){this.addCodeMirror()}},{key:"componentDidUpdate",value:function(){this.addCodeMirror()}},{key:"addCodeMirror",value:function(){var e=this.props,t=e.isDisabled,o=e.editorMode;if(t)return null;if("text"!==o||this.state.isLoaded)"visual"===o&&this.state.isLoaded&&this.setState({isLoaded:!1});else{var n=wp.codeEditor.defaultSettings?_.clone(wp.codeEditor.defaultSettings):{};document.body.classList.add("wca-editor-loaded"),n.codemirror=_.extend({},n.codemirror,{mode:"text/html",lineNumbers:!0,indentUnit:2,tabSize:2,height:"auto",lineWrapping:!0,scrollbarStyle:"null"});var r=document.querySelector(".editor-post-text-editor"),a=wp.codeEditor.initialize(r,n);a.codemirror.on("change",function(e){var t=e.getValue();r.innerHTML=t,un("core/editor").editPost({content:t})}),a.codemirror.on("blur",function(e){var t=e.getValue(),o=mn(t);un("core/editor").resetEditorBlocks(o)}),this.setState({isLoaded:!0})}}},{key:"render",value:function(){return null}}]),t}(),wn={name:"wca-code-editor",render:pn([sn(function(e){return{readyState:document.readyState,isDisabled:!1,editorMode:e("core/edit-post").getEditorMode()}}),fn])(bn)};function yn(e){return(yn="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function gn(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hn(e){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kn(e,t){return(kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var On=wp.i18n,_n=On.__,Sn=On.sprintf,Cn=wp.element.Component,En=wp.compose.compose,Pn=wp.editPost.PluginPostStatusInfo,jn=wp.data,xn=jn.select,Tn=jn.withSelect,Bn=jn.withDispatch,Nn=wp.components,An=Nn.withSpokenMessages,Mn=Nn.CheckboxControl,zn=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==yn(t)&&"function"!=typeof t?vn(e):t}(this,hn(t).apply(this,arguments))).initialize=e.initialize.bind(vn(e)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kn(e,t)}(t,Cn),gn(t.prototype,[{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentDidUpdate",value:function(){this.initialize()}},{key:"initialize",value:function(){var e=this.props.postMeta,t=void 0===e?{}:e;if(document.querySelector(".editor-post-title__block")){var o=t._wca_title_hidden,n=void 0!==t&&void 0!==o&&o,r=n?"wca-title-hidden":"wca-title-visible";n?document.body.classList.remove("wca-title-visible"):document.body.classList.remove("wca-title-hidden"),document.body.classList.add(r)}}},{key:"render",value:function(){var e=this.props,t=e.onToggle,o=e.postMeta,n=void 0===o?{}:o,r=e.postType;if(["wp_block"].includes(r))return!1;var a=n._wca_title_hidden,c=void 0!==n&&void 0!==a&&a,i=_n(c?"hidden":"shown","wecodeart");return i=Sn(_n("Title is %s.","wecodeart"),i),wp.element.createElement(Pn,null,wp.element.createElement(Mn,{className:"wca-post-status-label",label:Sn(_n("Hide %s title on single template?","wecodeart"),r),checked:c,onChange:t,help:i}))}}]),t}(),Dn={name:"wca-disable-title",render:En(Tn(function(){return{postType:xn("core/editor").getEditedPostAttribute("type"),postMeta:xn("core/editor").getEditedPostAttribute("meta")}}),Bn(function(e,t){var o;return void 0!==t.postMeta&&void 0!==t.postMeta._wca_title_hidden&&(o=t.postMeta._wca_title_hidden),{onToggle:function(){e("core/editor").editPost({meta:{_wca_title_hidden:!o}})}}}),An)(zn)};function In(e){return(In="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function Fn(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ln(e,t){return(Ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hn=wp.data.withSelect,Vn=wp.compose.compose,Gn=wp.element.Component,Un=wp.components.withSpokenMessages,qn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==In(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,Rn(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ln(e,t)}(t,Gn),Fn(t.prototype,[{key:"componentDidMount",value:function(){this.sync()}},{key:"componentDidUpdate",value:function(){this.sync()}},{key:"sync",value:function(){this.props.isDisabled?document.body.classList.remove("is-wca-heading-label-on"):document.body.classList.add("is-wca-heading-label-on")}},{key:"render",value:function(){return null}}]),t}(),Wn={name:"wca-heading-label",render:Vn([Hn(function(e){return{isDisabled:!1}}),Un])(qn)};function Jn(e){return(Jn="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function Kn(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function $n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zn(e){return(Zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yn(e,t){return(Yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qn=lodash.get,Xn=wp.i18n.__,er=wp.data,tr=er.select,or=er.withSelect,nr=er.withDispatch,rr=wp.element.Component,ar=wp.components.withSpokenMessages,cr=wp.editPost.PluginBlockSettingsMenuItem,ir=wp.compose,lr=ir.compose,sr=ir.ifCondition,ur=wp.richText,pr=ur.create,mr=ur.toHTMLString,dr=["core/paragraph","core/heading"],fr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==Jn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,Zn(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yn(e,t)}(t,rr),$n(t.prototype,[{key:"render",value:function(){var e=this.props,t=e.blockId,o=e.blockName,n=e.blockContent,r=e.clearBlockFormatting,a=pr({html:n});return wp.element.createElement(cr,{icon:"editor-removeformatting",label:Xn("Clear Block Formatting","wecodeart"),onClick:function(){r(t,o,mr({value:function(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Kn(Object(a),!0).forEach(function(e){var t,o,n;t=r,n=a[o=e],o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):Kn(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}({},a,{formats:Array(a.formats.length)})}))}})}}]),t}(),br={name:"wca-clear-formatting",render:lr(or(function(){var e=tr("core/block-editor").getSelectedBlock();return e?{blockId:e.clientId,blockName:e.name,blockContent:Qn(e,"attributes.content"),isDisabled:!1}:{}}),nr(function(e){var n=e("core/block-editor").updateBlockAttributes;return{clearBlockFormatting:function(e,t,o){n(e,{content:o})}}}),sr(function(e){return!e.isDisabled&&dr.includes(e.blockName)}),ar)(fr)};function wr(e){return(wr="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function yr(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gr(e){return(gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hr(e,t){return(hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vr=wp.i18n.__,kr=wp.element.Component,Or=wp.compose,_r=Or.compose,Sr=Or.ifCondition,Cr=wp.editPost.PluginPostStatusInfo,Er=wp.data,Pr=Er.withSelect,jr=Er.withDispatch,xr=wp.components,Tr=xr.withSpokenMessages,Br=xr.CheckboxControl,Nr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==wr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,gr(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hr(e,t)}(t,kr),yr(t.prototype,[{key:"render",value:function(){var e=this.props,t=e.onToggle,o=e.postMeta,n=e.postType;if(["wp_block"].includes(n)||!["page"].includes(n))return!1;var r=o._wca_builder_template,a=void 0!==o&&void 0!==r&&r,c=vr(a?"Enabled":"Disabled","wecodeart");return c=sprintf(vr("Page builder template is %s.","wecodeart"),c),wp.element.createElement(Cr,null,wp.element.createElement(Br,{className:"wca-post-status-label",label:vr("Enable Page Builder Template?","wecodeart"),checked:a,onChange:t,help:c}))}}]),t}(),Ar={name:"wca-builder-template",render:_r(Pr(function(e){return{postType:e("core/editor").getEditedPostAttribute("type"),postMeta:e("core/editor").getEditedPostAttribute("meta")}}),jr(function(e,t){var o;return void 0!==t.postMeta&&void 0!==t.postMeta._wca_builder_template&&(o=t.postMeta._wca_builder_template),{onToggle:function(){e("core/editor").editPost({meta:{_wca_builder_template:!o}})}}}),Sr(function(e){return"page"===e.postType}),Tr)(Nr)},Mr=wp.plugins.registerPlugin;function zr(e){return(zr="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function Dr(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ir(e){return(Ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rr(e,t){return(Rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}[on,wn,Dn,Wn,br,Ar].forEach(function(e){if(e){var t=e.name,o=e.render;Mr(t,{icon:!1,render:o})}});var Lr=wp.i18n.__,Hr=wp.element,Vr=Hr.Component,Gr=Hr.Fragment,Ur=wp.compose,qr=Ur.compose,Wr=Ur.ifCondition,Jr=wp.data.withSelect,Kr=wp.blockEditor.RichTextToolbarButton,$r=wp.richText,Zr=$r.applyFormat,Yr=$r.removeFormat,Qr=$r.getActiveFormat,Xr=wp.components,ea=Xr.Modal,ta=Xr.Button,oa=Xr.TextControl,na=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==zr(t)&&"function"!=typeof t?Fr(e):t}(this,Ir(t).apply(this,arguments))).toggle=e.toggle.bind(Fr(e)),e.state={isOpen:!1,title:"",lang:""},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rr(e,t)}(t,Vr),Dr(t.prototype,[{key:"toggle",value:function(){this.setState(function(e){return{isOpen:!e.isOpen}})}},{key:"render",value:function(){var t=this,e=this.state,o=e.title,n=e.lang,r=this.props,a=r.isActive,c=r.value,i=r.onChange,l=Qr(c,"wca/abbreviation");return wp.element.createElement(Gr,null,wp.element.createElement(Kr,{icon:"editor-code",title:Lr("Abbreviation","wecodeart"),onClick:this.toggle,isActive:a}),this.state.isOpen&&wp.element.createElement(ea,{title:Lr("Insert Abbreviation","wecodeart"),onRequestClose:this.toggle},wp.element.createElement(oa,{label:Lr("Title","wecodeart"),value:l&&!o?l.attributes.title:o,onChange:function(e){return t.setState({title:e})}}),wp.element.createElement(oa,{label:Lr("Language (optional)","wecodeart"),value:l&&!n?l.attributes.lang:n,help:Lr("Example: fr, en, de, etc. Use it only if the abbreviation’s language is different from page main language.","wecodeart"),onChange:function(e){return t.setState({lang:e})}}),wp.element.createElement(ta,{isPrimary:!0,isLarge:!0,onClick:function(){if(o){var e={title:o};n&&(e.lang=n),i(Zr(c,{type:"wca/abbreviation",attributes:e}))}else i(Yr(c,"wca/abbreviation"));t.toggle()}},Lr("Apply","wecodeart"))))}}]),t}(),ra=qr(Jr(function(e){return{isDisabled:!1}}),Wr(function(e){return!e.isDisabled}))(na),aa={name:"wca/abbreviation",title:(0,wp.i18n.__)("Abbreviation","wecodeart"),tagName:"abbr",className:null,attributes:{title:"title",lang:"lang"},edit:ra},ca=wp.i18n.__,ia=wp.element.Fragment,la=wp.richText.toggleFormat,sa=wp.blockEditor,ua=sa.RichTextToolbarButton,pa=sa.RichTextShortcut,ma=wp.data.select,da={name:"wca/underline",title:ca("Underline","wecodeart"),tagName:"span",className:"has-underline",attributes:{class:"class"},edit:function(e){var t=e.isActive,o=e.value,n=e.onChange,r=ma("core/rich-text").getFormatTypes().filter(function(e){return"wpcom/underline"===e.name}),a=function(){return n(la(o,{type:"wca/underline"}))};return wp.element.createElement(ia,null,wp.element.createElement(pa,{type:"primary",character:"u",onUse:a}),0===r.length&&wp.element.createElement(ua,{icon:"editor-underline",title:ca("Underline","wecodeart"),onClick:a,isActive:t,shortcutType:"primary",shortcutCharacter:"u"}))}};function fa(e){return(fa="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function ba(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wa(e){return(wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ya(e,t){return(ya=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ga=lodash.get,ha=wp.i18n.__,va=wp.element.Component,ka=wp.compose,Oa=ka.compose,_a=ka.ifCondition,Sa=wp.data,Ca=Sa.select,Ea=Sa.withSelect,Pa=Sa.withDispatch,ja=wp.blockEditor.RichTextToolbarButton,xa=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==fa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,wa(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ya(e,t)}(t,va),ba(t.prototype,[{key:"render",value:function(){var e=this.props,t=e.blockId,o=e.isBlockJustified,n=e.updateBlockAttributes;return wp.element.createElement(ja,{icon:"editor-justify",title:ha("Justify","wecodeart"),onClick:function(){n(t,{align:o?null:"justify"})},isActive:o})}}]),t}(),Ta=Oa(Ea(function(){var e=Ca("core/block-editor").getSelectedBlock();return e?{blockId:e.clientId,blockName:e.name,isBlockJustified:"justify"===ga(e,"attributes.align"),formatTypes:Ca("core/rich-text").getFormatTypes()}:{}}),Pa(function(e){return{updateBlockAttributes:e("core/block-editor").updateBlockAttributes}}),_a(function(e){var t=e.formatTypes.filter(function(e){return"wpcom/justify"===e.name});return"core/paragraph"===e.blockName&&0===t.length}))(xa),Ba={name:"wca/justify",title:(0,wp.i18n.__)("Align text justify","wecodeart"),tagName:"p",className:null,attributes:{style:"style"},edit:function(e){var t=e.isActive,o=e.value,n=e.onChange,r=e.activeAttributes;return wp.element.createElement(Ta,{name:"wca/justify",isActive:t,value:o,onChange:n,activeAttributes:r})}};function Na(e){return(Na="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function Aa(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ma(e){return(Ma=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function za(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Da(e,t){return(Da=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ia=wp.i18n.__,Fa=wp.element.Component,Ra=wp.data,La=Ra.select,Ha=Ra.withSelect,Va=wp.blockEditor,Ga=Va.BlockControls,Ua=Va.getColorClassName,qa=Va.getColorObjectByColorValue,Wa=Va.getColorObjectByAttributeValues,Ja=wp.richText,Ka=Ja.applyFormat,$a=Ja.removeFormat,Za=Ja.getActiveFormat,Ya=wp.components,Qa=Ya.Toolbar,Xa=Ya.IconButton,ec=Ya.Popover,tc=Ya.ColorPalette,oc=wp.compose,nc=oc.compose,rc=oc.ifCondition,ac=Ia("Text Color","wecodeart"),cc=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==Na(t)&&"function"!=typeof t?za(e):t}(this,Ma(t).apply(this,arguments))).toggle=e.toggle.bind(za(e)),e.state={isOpen:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Da(e,t)}(t,Fa),Aa(t.prototype,[{key:"toggle",value:function(){this.setState(function(e){return{isOpen:!e.isOpen}})}},{key:"render",value:function(){var e,t=this,o=this.state.isOpen,n=this.props,r=n.value,a=n.onChange,c=n.colors,i=Za(r,"wca/color");if(i){var l=i.attributes.style;l&&(e=l.replace(new RegExp("^color:\\s*"),""));var s=i.attributes.class;if(s){var u=s.replace(/.*has-(.*?)-color.*/,"$1");e=Wa(c,u).color}}return wp.element.createElement(Ga,null,wp.element.createElement(Qa,{className:"components-toolbar--wca"},wp.element.createElement(Xa,{className:"components-button components-icon-button components-toolbar__control components-wca-color-format",icon:"editor-textcolor","aria-haspopup":"true",tooltip:ac,onClick:this.toggle},wp.element.createElement("span",{className:"components-toolbar__indicator",style:{backgroundColor:e}})),o&&wp.element.createElement(ec,{position:"bottom center",className:"components-popover--wca",focusOnMount:"container",onClickOutside:function(e){e.target.classList.contains("components-wca-color-format")||document.querySelector(".components-wca-color-format").contains(e.target)||document.querySelector(".components-color-palette__picker")&&(!document.querySelector(".components-color-palette__picker")||document.querySelector(".components-color-palette__picker").contains(e.target))||t.setState({isOpen:!o})}},wp.element.createElement(tc,{colors:c,value:e,onChange:function(e){if(e){var t=null;void 0!==window.wecodeartInfo&&window.wecodeartInfo.supports.colorPalette&&(t=qa(c,e)),a(Ka(r,{type:"wca/color",attributes:t?{class:Ua("color",t.slug)}:{style:"color:".concat(e)}}))}else a($a(r,"wca/color"))}}))))}}]),t}(),ic=nc(Ha(function(){return{colors:La("core/block-editor").getSettings().colors||[],isDisabled:!1}}),rc(function(e){return!e.isDisabled}))(cc),lc={name:"wca/color",title:(0,wp.i18n.__)("Text Color","wecodeart"),tagName:"span",className:"has-inline-color",attributes:{style:"style",class:"class"},edit:ic},sc={};sc.highlighter=wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"300",width:"300",viewBox:"0 0 512 512"}," ",wp.element.createElement("path",{d:"M240.2,369.1 C244.39999999999998,373.3 251.2,373 255.10000000000002,368.6 L465.7,125.4 C474.5,115.3 474,100.2 464.5,90.7 L426.3,52.5 C416.8,43 401.7,42.5 391.6,51.3 L148.4,262 C143.9,265.9 143.7,272.7 147.9,276.9 L240.2,369.1 z",id:"svg_2"})," ",wp.element.createElement("path",{d:"M48.2,449.7 L86.5,462.5 L104.5,444.5 L172.1,444.5 C174.8,444.5 177.4,443.4 179.3,441.5 L205.1,415.7 C209.1,411.7 209.1,405.3 205.1,401.3 L111.6,308 C107.6,304 101.19999999999999,304 97.19999999999999,308 L71.4,333.8 C69.5,335.7 68.4,338.3 68.4,341 L68.4,404.4 C68.4,407.1 67.3,409.7 65.4,411.6 L44.099999999999994,432.9 C38.900000000000006,438.2 41.099999999999994,447.3 48.2,449.7 z",id:"svg_3"})," ");var uc=sc;function pc(e){return(pc="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function mc(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dc(e){return(dc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bc(e,t){return(bc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wc=wp.i18n.__,yc=wp.element,gc=yc.Component,hc=yc.Fragment,vc=wp.data,kc=vc.select,Oc=vc.withSelect,_c=wp.blockEditor,Sc=_c.BlockControls,Cc=_c.getColorClassName,Ec=_c.getColorObjectByColorValue,Pc=_c.getColorObjectByAttributeValues,jc=wp.richText,xc=jc.applyFormat,Tc=jc.removeFormat,Bc=jc.getActiveFormat,Nc=wp.components,Ac=Nc.Toolbar,Mc=Nc.IconButton,zc=Nc.Popover,Dc=Nc.ColorPalette,Ic=wp.compose,Fc=Ic.compose,Rc=Ic.ifCondition,Lc=wc("Highlight Color","wecodeart"),Hc=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==pc(t)&&"function"!=typeof t?fc(e):t}(this,dc(t).apply(this,arguments))).toggle=e.toggle.bind(fc(e)),e.state={isOpen:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bc(e,t)}(t,gc),mc(t.prototype,[{key:"toggle",value:function(){this.setState(function(e){return{isOpen:!e.isOpen}})}},{key:"render",value:function(){var e,t=this,o=this.state.isOpen,n=this.props,r=n.value,a=n.onChange,c=n.isActive,i=n.colors,l=Bc(r,"wca/background");if(l){var s=l.attributes.style;s&&(e=s.replace(new RegExp("^background-color:\\s*"),""));var u=l.attributes.class;if(u){var p=u.replace(/.*has-(.*?)-background-color.*/,"$1");e=Pc(i,p).color}}return wp.element.createElement(hc,null,wp.element.createElement(Sc,null,wp.element.createElement(Ac,{className:"components-toolbar--wca"},wp.element.createElement(Mc,{className:Ee()("components-button components-icon-button components-toolbar__control components-wca-background-format",{"is-active":c}),icon:uc.highlighter,"aria-haspopup":"true",tooltip:Lc,onClick:this.toggle}),o&&wp.element.createElement(zc,{position:"bottom center",className:"components-popover--wca",focusOnMount:"container",onClickOutside:function(e){e.target.classList.contains("components-wca-background-format")||document.querySelector(".components-wca-background-format").contains(e.target)||document.querySelector(".components-color-palette__picker")&&(!document.querySelector(".components-color-palette__picker")||document.querySelector(".components-color-palette__picker").contains(e.target))||t.setState({isOpen:!o})}},wp.element.createElement(Dc,{colors:i,value:e,onChange:function(e){if(e){var t=null;void 0!==window.wecodeartInfo&&window.wecodeartInfo.supports.colorPalette&&(t=Ec(i,e)),a(xc(r,{type:"wca/background",attributes:t?{class:Cc("background-color",t.slug)}:{style:"background-color:".concat(e)}}))}else a(Tc(r,"wca/background"))}})))))}}]),t}(),Vc=Fc(Oc(function(){return{colors:kc("core/block-editor").getSettings().colors||[],isDisabled:!1}}),Rc(function(e){return!e.isDisabled}))(Hc),Gc={name:"wca/background",title:(0,wp.i18n.__)("Background Color","wecodeart"),tagName:"span",className:"has-inline-background",attributes:{style:"style",class:"class"},edit:Vc};function Uc(e){return(Uc="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function qc(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function Wc(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jc(e){return(Jc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kc(e,t){return(Kc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $c=wp.element.Component,Zc=wp.compose,Yc=Zc.compose,Qc=Zc.ifCondition,Xc=wp.data,ei=Xc.withSelect,ti=Xc.withDispatch,oi=wp.richText,ni=oi.applyFormat,ri=oi.getTextContent,ai=oi.remove,ci=wp.components.withSpokenMessages,ii=lodash.map,li=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==Uc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,Jc(t).apply(this,arguments))).state={start:null,end:null},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kc(e,t)}(t,$c),Wc(t.prototype,[{key:"_experimentalMarkdown",value:function(e,t,o,n){var r=e.start,a=ri(e);if(a.slice(r-1,r)!==o)return e;var c=a.slice(0,r-1).lastIndexOf(o);if(-1===c)return e;var i=c,l=r-2;if(i===l)return e;if(1<a.slice(i,1+l).split("\n").length)return e;var s=function(e){var t=e.formats,o=e.start,n=e.end,r=e.activeFormats;if(void 0===o)return[];if(o!==n)return t[o]||[];if(r)return r;var a=t[o-1]||[],c=t[o]||[];return a.length<c.length?a:c}(e);if(0<s.length&&s.filter(function(e){return"core/code"===e.type}))return e;var u=a.slice(i-1,i);return 1===u.length&&u.match(/[A-Z|a-z]/i)||" "===a.slice(i+1,i+2)||(e=ai(e,i,i+1),e=ai(e,l,1+l),e=ni(e,{type:n},i,l),wp.data.dispatch("core/block-editor").stopTyping(),this.setState({start:i,end:l}),e.activeFormats=[],t(function(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?qc(Object(a),!0).forEach(function(e){var t,o,n;t=r,n=a[o=e],o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):qc(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}({},e,{needsSelectionUpdate:!0}))),e}},{key:"render",value:function(){var t=this,e=this.props,o=e.value,n=e.onChange;return ii({bold:{markdown:"*",format:"core/bold"},italic:{markdown:"_",format:"core/italic"},strikethrough:{markdown:"~",format:"core/strikethrough"}},function(e){t._experimentalMarkdown(o,n,e.markdown,e.format)}),null}}]),t}(),si=Yc(ei(function(){return{isDisabled:!1}}),ti(function(e,t){var o=t.clientId,n=t.instanceId,r=t.identifier,a=void 0===r?n:r,c=e("core/block-editor").selectionChange;return{onSelectionChange:function(e,t){c(o,a,e,t)}}}),Qc(function(e){return!e.isDisabled}),ci)(li),ui={name:"wca/markdown",title:(0,wp.i18n.__)("Underline","wecodeart"),tagName:"p",className:"wca-markdown",attributes:{style:"style"},edit:function(e){var t=e.isActive,o=e.value,n=e.onChange,r=e.activeAttributes;return wp.element.createElement(si,{name:"wca/markdown",isActive:t,value:o,onChange:n,activeAttributes:r})}};function pi(e){return(pi="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function mi(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function di(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fi(e){return(fi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bi(e,t){return(bi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wi=lodash.map,yi=wp.i18n.__,gi=wp.element.Component,hi=wp.compose,vi=hi.compose,ki=hi.ifCondition,Oi=wp.data,_i=Oi.select,Si=Oi.withSelect,Ci=wp.blockEditor.RichTextToolbarButton,Ei=wp.richText.removeFormat,Pi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==pi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,fi(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bi(e,t)}(t,gi),di(t.prototype,[{key:"render",value:function(){var e=this.props,o=e.value,t=e.isActive,n=e.onChange;return wp.element.createElement(Ci,{icon:"editor-removeformatting",title:yi("Clear Formatting","wecodeart"),onClick:function(){var e=_i("core/rich-text").getFormatTypes();if(0<e.length){var t=o;wi(e,function(e){t=Ei(t,e.name)}),n(function(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?mi(Object(a),!0).forEach(function(e){var t,o,n;t=r,n=a[o=e],o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):mi(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}({},t))}},isActive:t})}}]),t}(),ji=vi(Si(function(){return{isDisabled:!1}}),ki(function(e){return!e.isDisabled}))(Pi),xi={name:"wca/clear-formatting",title:(0,wp.i18n.__)("Clear Formatting","wecodeart"),tagName:"span",className:"wca-clear-formatting",edit:function(e){var t=e.isActive,o=e.value,n=e.onChange,r=e.activeAttributes;return wp.element.createElement(ji,{name:"wca/clear-formatting",isActive:t,value:o,onChange:n,activeAttributes:r})}};function Ti(e){return(Ti="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function Bi(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function Ni(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Bi(Object(a),!0).forEach(function(e){var t,o,n;t=r,n=a[o=e],o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):Bi(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function Ai(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Mi(e){return(Mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Di(e,t){return(Di=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ii=wp.i18n.__,Fi=wp.element,Ri=Fi.Component,Li=Fi.Fragment,Hi=wp.compose,Vi=Hi.compose,Gi=Hi.ifCondition,Ui=wp.data.withSelect,qi=wp.blockEditor.RichTextToolbarButton,Wi=wp.richText,Ji=Wi.applyFormat,Ki=Wi.removeFormat,$i=Wi.getActiveFormat,Zi=wp.components,Yi=Zi.Modal,Qi=Zi.Button,Xi=Zi.TabPanel,el=Zi.ToggleControl,tl=Zi.TextareaControl,ol=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==Ti(t)&&"function"!=typeof t?zi(e):t}(this,Mi(t).apply(this,arguments))).toggle=e.toggle.bind(zi(e)),e.toggleEditor=e.toggleEditor.bind(zi(e)),e.editor,e.state={title:"",isOpen:!1,isPopover:!1,isEditor:!1,isHtml:!0,options:{}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Di(e,t)}(t,Ri),Ai(t.prototype,[{key:"componentDidMount",value:function(){this.addCodeMirror()}},{key:"componentDidUpdate",value:function(){this.addCodeMirror()}},{key:"toggle",value:function(){this.setState(function(e){return{isOpen:!e.isOpen}}),this.state.isEditor&&this.setState({isEditor:!1})}},{key:"toggleEditor",value:function(){this.setState(function(e){return{isHtml:!e.isHtml}}),this.state.isEditor&&!0!==this.setState.isHtml&&this.setState({isEditor:!1})}},{key:"addCodeMirror",value:function(){var e=this,t=this.state,o=t.title;if(!1===t.isEditor){var n={value:o,mode:"text/html",lint:!0,tabSize:1,indentUnit:1,height:"auto",lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,autoCloseBrackets:!0,styleActiveLine:!0,styleActiveSelected:!0,scrollbarStyle:"null",gutters:["CodeMirror-lint-markers"],extraKeys:{"Ctrl-Space":"autocomplete","Alt-F":"findPersistent","Cmd-F":"findPersistent"}},r=document.getElementById("wecodeart-tooltip-editor");r&&(this.editor=wp.CodeMirror(r,n),this.editor.on("change",function(){return e.setState({title:e.editor.getValue()})}),r.children.length?this.setState({isEditor:!0}):this.setState({isEditor:!1}))}}},{key:"render",value:function(){var o=this,e=this.state,n=e.title,r=e.isPopover,a=e.isHtml,t=e.isEditor,c=this.props,i=c.isActive,l=c.value,s=c.onChange,u=$i(l,"wca/tooltip"),p={content:function(){return wp.element.createElement(Li,null,wp.element.createElement(el,{label:Ii("Use HTML Content ?","wecodeart"),help:Ii("Select to enable HTML content!","wecodeart"),checked:a,onChange:o.toggleEditor}),!a&&wp.element.createElement(tl,{label:Ii("Tooltip","wecodeart"),value:u&&!n?u.attributes.title:n,onChange:function(e){return o.setState({title:e})}}),a&&wp.element.createElement("div",{className:"wecodeart-tooltip__editor",id:"wecodeart-tooltip-editor"}))},options:function(){return wp.element.createElement(Li,null,wp.element.createElement(el,{label:Ii("Popover ?","wecodeart"),checked:r,onChange:function(e){return o.setState({isPopover:e})}}))}};return wp.element.createElement(Li,null,wp.element.createElement(qi,{icon:"testimonial",title:Ii("Tooltip","wecodeart"),onClick:this.toggle,isActive:i}),this.state.isOpen&&wp.element.createElement(Yi,{title:Ii("Insert Tooltip","wecodeart"),className:"wecodeart-tooltips-modal",onRequestClose:this.toggle},wp.element.createElement(Xi,{className:"wecodeart-horizontal-tabs wecodeart-horizontal-tabs--tooltips",activeClass:"is-active",onSelect:function(e){"options"===e&&a&&t&&o.setState({isEditor:!1}),"content"===e&&a&&o.toggleEditor()},tabs:[{name:"content",title:Ii("Content","wecodeart"),className:"tab-one"},{name:"options",title:Ii("Options","wecodeart"),className:"tab-two"}]},function(e){return p[e.name]()}),wp.element.createElement(Qi,{isPrimary:!0,isLarge:!0,onClick:function(){if(n){var e={title:n},t={type:"tooltip"};r&&(t=Ni({},t,{type:"popover"})),a&&(t=Ni({},t,{html:!0})),e.options=JSON.stringify(t),s(Ji(l,{type:"wca/tooltip",attributes:e}))}else s(Ki(l,"wca/tooltip"));o.toggle()}},Ii("Apply","wecodeart"))))}}]),t}(),nl=Vi(Ui(function(e){return{selectedBlock:e("core/block-editor").getSelectedBlock()}}),Gi(function(e){return e.selectedBlock&&("core/paragraph"===e.selectedBlock.name||"core/heading"===e.selectedBlock.name)}))(ol),rl={name:"wca/tooltip",title:(0,wp.i18n.__)("Tooltip","wecodeart"),tagName:"abbr",className:"has-tooltip",attributes:{title:"",options:""},edit:nl};var al=wp.richText.registerFormatType;function cl(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}wp.domReady(function(){[aa,Gc,xi,Ba,ui,lc,da,rl].forEach(function(e){var t=e.name,o=function(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],0<=t.indexOf(o)||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],0<=t.indexOf(o)||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}(e,["name"]);t&&al(t,o)})}),o.d(t,"default",function(){return ll});var il=wp.blocks.registerBlockType;function ll(){[].forEach(function(e){if(e){var t=e.name,o=e.settings;il(t,function(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?cl(Object(a),!0).forEach(function(e){var t,o,n;t=r,n=a[o=e],o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):cl(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}({},o,{category:"wca"}))}})}ll()}]);
//# sourceMappingURL=editor.js.map
