"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(o){var n={};function r(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=o,r.c=n,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==_typeof(t)&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t,o){var n;!function(){var c={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var n=_typeof(o);if("string"===n||"number"===n)e.push(o);else if(Array.isArray(o)&&o.length){var r=i.apply(null,o);r&&e.push(r)}else if("object"===n)for(var a in o)c.call(o,a)&&o[a]&&e.push(a)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},function(e,t){function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}var o=lodash,r=o.split,a=o.replace,c=o.get,s=o.join,u=wp.i18n.__,n=wp.hooks,i=n.addFilter,p=n.removeFilter,m=wp.element.Fragment,d=wp.data,f=d.withSelect,b=(d.select,wp.compose),w=b.compose,y=b.createHigherOrderComponent,g=b.withState,h=wp.blocks.hasBlockSupport,v=wp.blockEditor.InspectorAdvancedControls,k=wp.components.FormTokenField,O=w(g({customClassNames:[]}),f(function(e,t){var o=e("core/block-editor").getSelectedBlock(),n=c(o,"attributes.className");return n&&(n=a(n,","," ")),o&&n&&s(t.customClassNames," ")!==n&&t.clientId===o.clientId&&t.setState({customClassNames:r(n," ")}),{suggestions:e("core/editor").getEditorSettings().wecodeart.customClasses}})),_=y(function(i){return O(function(e){var t=l({},e),o=h(t.name,"customClassName",!0),n=t.customClassNames,r=t.suggestions,a=t.isSelected,c=t.setState;return o&&a?wp.element.createElement(m,null,wp.element.createElement(i,t),wp.element.createElement(v,null,wp.element.createElement(k,{label:u("Additional CSS Class(es)","wecodeart"),value:n,suggestions:r,maxSuggestions:20,onChange:function(e){t.setAttributes({className:""!==e?s(e," "):void 0}),c({customClassNames:""!==e?e:void 0})}}))):wp.element.createElement(i,t)})},"withInspectorControl");p("editor.BlockEdit","core/editor/custom-class-name/with-inspector-control"),i("editor.BlockEdit","wecodeart/editor/custom-class-name/withInspectorControl",_)},function(e,t){wp.i18n.__;var r=wp.blocks.parse,o=wp.data,n=o.select,a=o.subscribe,c="";a(function(){var e,t;c="",function o(e,n){e.forEach(function(t){if(t.attributes.hasCustomCSS&&t.attributes.customCSS&&null!==t.attributes.customCSS&&(c+=t.attributes.customCSS+"\n"),"core/block"===t.name&&null!==n){var e=n.find(function(e){return t.attributes.ref===e.id});e&&(e=r(e.content.raw),o(e,n))}void 0!==t.innerBlocks&&0<t.innerBlocks.length&&o(t.innerBlocks,n)})}((0,(n("core/block-editor")||n("core/editor")).getBlocks)(),n("core").getEntityRecords("postType","wp_block")),e=c,null===(t=document.getElementById("wca-css-editor-styles"))&&((t=document.createElement("style")).setAttribute("type","text/css"),t.setAttribute("id","wca-css-editor-styles"),document.getElementsByTagName("head")[0].appendChild(t)),t.textContent===e||(t.textContent=e)})},function(e,t,o){o.r(t);var n={backgroundType:{type:"string",default:"image"},backgroundImg:{type:"string"},backgroundPosition:{type:"string",default:"center center"},backgroundRepeat:{type:"string",default:"no-repeat"},backgroundSize:{type:"string"},backgroundOverlay:{type:"number",default:0},backgroundColor:{type:"string"},customBackgroundColor:{type:"string"},hasParallax:{type:"boolean",default:!1},focalPoint:{type:"object"},videoMuted:{type:"boolean",default:!0},videoLoop:{type:"boolean",default:!0},openPopover:{type:"boolean",default:!1}},r=lodash;function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}r.pick,r.get,r.findIndex;var c=wp.blockEditor.getColorClassName,m=function(e){var t,o=c("background-color",e.backgroundColor),n=e.backgroundSize?e.backgroundSize:"cover",r=[{"has-background":e.backgroundColor||e.customBackgroundColor||e.backgroundImg},a({},o,o),a({},"has-background-".concat(e.backgroundType),e.backgroundImg&&e.backgroundType),{"has-background-overlay":e.backgroundImg&&0!==e.backgroundOverlay},{"has-parallax":e.backgroundImg&&"image"===e.backgroundType&&e.hasParallax},{"is-transient":e.backgroundImg&&0===e.backgroundImg.indexOf("blob:")}];return e.backgroundOverlay&&r.push(a({},0===(t=e.backgroundOverlay)||50===t?null:"has-background-overlay-"+10*Math.round(t/10),e.backgroundImg&&0!==e.backgroundOverlay&&50!==e.backgroundOverlay)),n&&r.push(a({},"bg-".concat(n),e.backgroundImg&&"image"===e.backgroundType)),e.backgroundRepeat&&r.push(a({},"bg-".concat(e.backgroundRepeat),e.backgroundImg&&"image"===e.backgroundType)),e.backgroundPosition&&r.push(a({},"bg-".concat(e.backgroundPosition.split(" ").join("-")),e.backgroundImg&&"image"===e.backgroundType)),r},i=wp.components,l=i.SVG,s=i.Path,u=i.G,p={};p.background=wp.element.createElement(l,{height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(u,{fill:"none",fillRule:"evenodd",transform:"translate(2.762573 1)"},wp.element.createElement(s,{d:"m4.93810577 15.6496655-4.30419126-4.3041913c-.67516726-.6751672-.67516726-1.68791812 0-2.36308537l5.48573395-5.31694215 5.40133804 5.40133806c.6751673.67516725.6751673 1.68791816 0 2.36308536l-4.30419124 4.3041913c-.59077135.5907713-1.60352224.5907713-2.27868949-.0843959z",stroke:"currentColor",strokeWidth:"2"}),wp.element.createElement(s,{d:"m15.4031982 15.3120819c0 .9283549-.7595631 1.6879181-1.6879181 1.6879181s-1.6879181-.7595632-1.6879181-1.6879181c0-.928355 1.6879181-3.3758363 1.6879181-3.3758363s1.6879181 2.4474813 1.6879181 3.3758363z",fill:"currentColor"}),wp.element.createElement(s,{d:"m.21193497 10c0 .4219795.16879181.8439591.42197954 1.1815427l4.30419126 4.3041913c.67516725.6751672 1.68791814.6751672 2.36308539 0l4.30419124-4.3041913c.2531877-.3375836.4219796-.7595632.4219796-1.1815427z",fill:"currentColor"}),wp.element.createElement(s,{d:"m3.16579172.71158994 6.66727666 6.66727665",stroke:"currentColor",strokeWidth:"2"}))),p.edit=wp.element.createElement(l,{className:"dashicon","aria-hidden":!0,role:"img",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(s,{d:"m10.330727 5.86705523.8149993.81499936-8.02597188 8.02597191h-.81499935v-.8149994zm3.1891279-5.33293055c.2303259 0 .4517931.07972819.6289669.25690197l2.0729331 2.07293314c.3454889.34548885.3454889.90358624 0 1.24907509l-1.62114 1.62114002-3.3220083-3.32200823 1.6211401-1.62114002c.1683151-.16831509.398641-.25690197.6201082-.25690197zm-3.1891279 2.82592167 3.3220082 3.32200824-9.79770962 9.79770961h-3.32200824v-3.3220082z",transform:"translate(1.5 1.5)"})),p.trash=wp.element.createElement(l,{className:"dashicon","aria-hidden":!0,role:"img",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(s,{d:"m9 6.00065104v7.99934896h-6v-7.99934896zm-.85714286-6.00065104.85714286 1.00907841h3v2.01815683h-12v-2.01815683h3l.85714286-1.00907841zm-7.12701513 4.01388889h9.99696179v10.27380951c0 .9417659-.6413752 1.7123016-1.58423237 1.7123016h-6.85714286c-.94285714 0-1.55558656-.7705357-1.55558656-1.7123016z",transform:"translate(4 2)"}));var d=p,f=wp.i18n.__,b=wp.blockEditor,w=b.MediaUpload,y=b.MediaUploadCheck,g=wp.components,h=g.Toolbar,v=g.IconButton,k=g.Popover,O=g.MenuItem,S=wp.element;function C(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function E(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?C(a,!0).forEach(function(e){var t,o,n;t=r,n=a[o=e],o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):C(a).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}S.Component,S.Fragment,wp.blockEditor.mediaUpload,wp.components.DropZone;var P=lodash.find,j=function(e,t){var o=t.colors,n=e.backgroundColor,r=e.customBackgroundColor,a=e&&e.backgroundImg&&"image"===e.backgroundType,c={};if(void 0!==n){if(void 0!==o){var i=P(o,{slug:n});void 0!==i&&void 0!==i.color&&(c=E({},c,{backgroundColor:i.color}))}}else void 0!==r&&(c=E({},c,{backgroundColor:r}));return E({},c,{backgroundImage:e.backgroundImg&&"image"===e.backgroundType?"url(".concat(e.backgroundImg,")"):void 0,backgroundPosition:a&&e.focalPoint&&!e.hasParallax?"".concat(100*e.focalPoint.x,"% ").concat(100*e.focalPoint.y,"%"):void 0})},x=wp.components,T=x.SVG,B=x.Path,N={};N.mobile=wp.element.createElement(T,{"aria-hidden":!0,className:"dashicon",role:"img",focusable:"false",height:"15",viewBox:"0 0 15 15",width:"15",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(B,{d:"m8.25 0h-6c-.825 0-1.5.61363636-1.5 1.36363636v10.27272724c0 .75.675 1.3636364 1.5 1.3636364h6c.825 0 1.5-.6136364 1.5-1.3636364v-10.27272724c0-.75-.675-1.36363636-1.5-1.36363636zm-.5 11h-5v-9h5z",transform:"translate(2.25 1)"})),N.desktopChrome=wp.element.createElement(T,{"aria-hidden":!0,className:"dashicon dashicon--desktop-chrome",role:"img",focusable:"false",height:"15",viewBox:"0 0 15 15",width:"15",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(B,{d:"m13.5 0h-12c-.8325 0-1.5.61363636-1.5 1.36363636v12.27272724c0 .75.6675 1.3636364 1.5 1.3636364h12l-.5-2h-11v-10h11v10l.5 2c.825 0 1.5-.6136364 1.5-1.3636364v-12.27272724c0-.75-.6675-1.36363636-1.5-1.36363636z"}));var z=N;function A(e){return(A="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function M(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=wp.i18n,L=R.__,H=R.sprintf,V=wp.element.Component,G=wp.components,q=G.RangeControl,U=G.TabPanel,W=function(e){function o(){var e,t;return function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this,(e=!(t=I(o).apply(this,arguments))||"object"!==A(t)&&"function"!=typeof t?F(this):t).setGutterTo=e.setGutterTo.bind(F(e)),e.setGutterMobileTo=e.setGutterMobileTo.bind(F(e)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(o,V),M(o.prototype,[{key:"setGutterTo",value:function(e){this.props.setAttributes({gutter:e})}},{key:"setGutterMobileTo",value:function(e){this.props.setAttributes({gutterMobile:e})}},{key:"render",value:function(){var e=this.props,t=e.label,o=void 0===t?L("Gutter","wecodeart"):t,n=e.max,r=void 0===n?50:n,a=e.min,c=void 0===a?0:a,i=e.onChange,l=void 0===i?this.setGutterTo:i,s=e.onChangeMobile,u=void 0===s?this.setGutterMobileTo:s,p=e.step,m=void 0===p?5:p,d=e.value,f=void 0===d?this.props.attributes.gutter:d,b=e.valueMobile,w=void 0===b?this.props.attributes.gutterMobile:b;return wp.element.createElement(U,{className:"components-base-control wecodeart-responsive-tabs",activeClass:"is-active",initialTabName:"desk",tabs:[{name:"desk",title:z.desktopChrome,className:"wecodeart-responsive-tabs__item wecodeart-responsive-tabs__item--desktop"},{name:"mobile",title:z.mobile,className:"wecodeart-responsive-tabs__item wecodeart-responsive-tabs__item--mobile"}]},function(e){return"mobile"===e.name?wp.element.createElement(q,{label:H(L("Mobile %s","wecodeart"),o),value:w,onChange:function(e){return u(e)},min:c,max:r,step:m}):wp.element.createElement(q,{label:o,value:f,onChange:function(e){return l(e)},min:c,max:r,step:m})})}}]),o}();function J(e){return(J="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function K(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var X=lodash.isEmpty,ee=wp.i18n,te=ee.__,oe=ee.sprintf,ne=wp.element,re=ne.Component,ae=ne.Fragment,ce=wp.components,ie=ce.SelectControl,le=ce.RangeControl,se=ce.ToggleControl,ue=ce.PanelBody,pe=ce.Button,me=ce.FocalPointPicker,de=ce.ColorPalette,fe=ce.ColorIndicator,be=function(e){function o(){var e,t;return function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this,(e=!(t=Z(o).apply(this,arguments))||"object"!==J(t)&&"function"!=typeof t?Y(this):t).setBackgroundPaddingTo=e.setBackgroundPaddingTo.bind(Y(e)),e.setBackgroundPaddingMobileTo=e.setBackgroundPaddingMobileTo.bind(Y(e)),e.onSelectRepeat=e.onSelectRepeat.bind(Y(e)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(o,re),K(o.prototype,[{key:"setBackgroundPaddingTo",value:function(e){this.props.setAttributes({backgroundPadding:e}),this.props.attributes.backgroundPadding<=0&&this.props.setAttributes({backgroundRadius:0})}},{key:"setBackgroundPaddingMobileTo",value:function(e){this.props.setAttributes({backgroundPaddingMobile:e})}},{key:"onSelectRepeat",value:function(e){"no-repeat"===e?this.props.setAttributes({backgroundRepeat:e,backgroundSize:"cover"}):this.props.setAttributes({backgroundRepeat:e,backgroundSize:"contain",focalPoint:void 0})}},{key:"render",value:function(){var t=this,e=this.props,o=e.select,n=e.attributes,r=e.backgroundColor,a=e.setBackgroundColor,c=e.hasGalleryControls,i=e.hasOverlay,l=e.setAttributes,s=n.align,u=n.backgroundImg,p=n.backgroundOverlay,m=n.backgroundPadding,d=n.backgroundPaddingMobile,f=n.backgroundPosition,b=n.backgroundRadius,w=n.backgroundRepeat,y=n.backgroundSize,g=n.backgroundType,h=void 0===g?"image":g,v=n.focalPoint,k=n.hasParallax,O=n.videoLoop,_=n.videoMuted,S=[{value:"top left",label:te("Top Left","wecodeart")},{value:"top center",label:te("Top Center","wecodeart")},{value:"top right",label:te("Top Right","wecodeart")},{value:"center left",label:te("Center Left","wecodeart")},{value:"center center",label:te("Center Center","wecodeart")},{value:"center right",label:te("Center Right","wecodeart")},{value:"bottom left",label:te("Bottom Left","wecodeart")},{value:"bottom center",label:te("Bottom Center","wecodeart")},{value:"bottom right",label:te("Bottom Right","wecodeart")}],C=[{value:"no-repeat",label:te("No Repeat","wecodeart")},{value:"repeat",label:te("Repeat","wecodeart")},{value:"repeat-x",label:te("Repeat Horizontally","wecodeart")},{value:"repeat-y",label:te("Repeat Vertically","wecodeart")}],E=[{value:"auto",label:te("Auto","wecodeart")},{value:"cover",label:te("Cover","wecodeart")},{value:"contain",label:te("Contain","wecodeart")}],P=o("core/block-editor").getSettings().colors;return wp.element.createElement(ue,{title:te("Background Settings","wecodeart"),icon:wp.element.createElement(fe,{colorValue:r.color}),initialOpen:!1,className:"components-panel__body--wecodeart-background-panel wecodeart-background-panel"},wp.element.createElement("br",null),wp.element.createElement(de,{colors:P,value:r.color,title:te("Background Color","wecodeart"),onChange:a}),u&&wp.element.createElement(ae,null,wp.element.createElement("hr",null),"image"===h&&wp.element.createElement(se,{label:te("Fixed Background","wecodeart"),checked:!!k,onChange:function(){return l({hasParallax:!k})}}),!k&&me&&"image"===h&&"repeat"!==w&&wp.element.createElement(me,{label:te("Focal Point","wecodeart"),url:u,value:v,onChange:function(e){return l({focalPoint:e})},className:"components-focal-point-picker--wecodeart"}),i&&wp.element.createElement(le,{label:te("Background Opacity","wecodeart"),value:p,onChange:function(e){return l({backgroundOverlay:e})},min:0,max:100,step:10}),c&&wp.element.createElement(ae,null,wp.element.createElement(W,$({},this.props,{label:te("Padding","wecodeart"),value:m,valueMobile:d,onChange:this.setBackgroundPaddingTo,onChangeMobile:this.setBackgroundPaddingMobileTo,min:5,max:100})),(!X(u)||!X(r.color))&&0<m&&"full"!==s&&wp.element.createElement(le,{label:te("Rounded Corners","wecodeart"),value:b,onChange:function(e){return l({backgroundRadius:e})},min:0,max:20,step:1})),"image"===h&&wp.element.createElement(ie,{label:te("Repeat","wecodeart"),className:"components-background-display-select--wecodeart",value:w||"no-repeat",options:C,onChange:function(e){return t.onSelectRepeat(e)}}),!me&&"image"===h&&wp.element.createElement(ie,{label:te("Position","wecodeart"),value:f||"center center",options:S,onChange:function(e){return l({backgroundPosition:e})}}),"no-repeat"===w&&"image"===h&&wp.element.createElement(ie,{label:te("Display","wecodeart"),value:y||"cover",options:E,onChange:function(e){return l({backgroundSize:e})}}),"video"===h&&wp.element.createElement(se,{label:te("Mute Video","wecodeart"),help:te(_?"Muting the background video.":"Toggle to mute the video.","wecodeart"),checked:!!_,onChange:function(){return l({videoMuted:!_})}}),"video"===h&&wp.element.createElement(se,{label:te("Loop Video","wecodeart"),help:te(O?"Looping the background video.":"Toggle to loop the video.","wecodeart"),checked:!!O,onChange:function(){return l({videoLoop:!O})}}),wp.element.createElement(pe,{className:"components-button--wecodeart-remove-background-image",type:"button",isDefault:!0,label:te("Remove background","wecodeart"),onClick:function(){l({backgroundImg:"",backgroundOverlay:0,backgroundRepeat:"no-repeat",backgroundPosition:"",backgroundSize:"cover",hasParallax:!1,backgroundPadding:0,backgroundPaddingMobile:0}),ye.includes(t.props.name)&&n.paddingSize&&l({paddingSize:"no"})}},oe(te("Remove %s","wecodeart"),h))))}}]),o}(),we=["image","video"],ye=["core/columns","core/column"],ge=wp.hooks.addFilter,he=wp.compose.createHigherOrderComponent,ve=["core/freeform","core/shortcode","core/nextpage","woocommerce/handpicked-products","woocommerce/products-by-attribute","woocommerce/products-by-tag","woocommerce/product-best-sellers","woocommerce/product-top-rated","woocommerce/product-on-sale","woocommerce/product-new"],ke=["core/spacer","core/separator"],Oe=["core/list"],_e=["core/columns","core/column"],Se=["core/columns"],Ce=["core/column"];ge("editor.BlockEdit","wecodeart/editor/attributes",he(function(o){return function(e){var t=e.name;return ve.includes(t)||(e.attributes.wecodeart=e.attributes.wecodeart||{},void 0===e.attributes.wecodeart&&(e.attributes.wecodeart=Object.assign({},e.attributes.wecodeart))),wp.element.createElement(o,e)}},"withAttributes")),ge("blocks.registerBlockType","wecodeart/blocks/custom/attributes",function(e){var t=e.name;return void 0===e.attributes||ve.includes(t)||(e.attributes=Object.assign(e.attributes,{wecodeart:{type:"object",default:{devices:!1,desktop:!0,tablet:!0,mobile:!0,loggedin:!0,loggedout:!0}}}),Oe.includes(t)&&(e.attributes||(e.attributes={}),e.attributes=Object.assign(e.attributes,{textColor:{type:"string"},customTextColor:{type:"string"},fontSize:{type:"string"},customFontSize:{type:"number"}})),ke.includes(t)&&(e.supports||(e.supports={}),e.supports=Object.assign(e.supports,{anchor:!0})),_e.includes(t)&&(e.supports||(e.supports={}),e.supports=Object.assign(e.supports,{hasBackground:!0}),e.attributes=Object.assign(e.attributes,n)),Se.includes(t)&&(e.attributes=Object.assign(e.attributes,{container:{type:"boolean",default:!0},gutters:{type:"boolean",default:!1}})),Ce.includes(t)&&(e.attributes=Object.assign(e.attributes,{bootstrapColumns:{type:"object",default:{global:"col-12",sm:"col-sm",md:"",lg:"",xl:""}}}))),e});var Ee=o(0),Pe=o.n(Ee);function je(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var xe=lodash.findIndex,Te=function(e){var t,o,n,r=e.wecodeart,a=[(t={},o=r.id,n=void 0!==r.id,o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n,t)];if(void 0===r.mobile||r.mobile||(a=[].concat(je(a),["d-none","d-md-block"])),void 0!==r.tablet&&!r.tablet){var c=xe(a,"d-md-block");a.splice(c,1),a=[].concat(je(a),["d-md-none","d-lg-block"])}if(void 0!==r.desktop&&!r.desktop){var i=xe(a,"d-lg-block");a.splice(i,1),a=[].concat(je(a),["d-lg-none"])}return a};function Be(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var Ne=wp.i18n.__,ze=wp.data.withSelect,Ae=wp.hooks.addFilter,Me=wp.element.Fragment,Ie=wp.components,Fe=Ie.ToggleControl,De=Ie.PanelBody,Re=wp.blockEditor,Le=Re.InspectorControls,He=Re.InnerBlocks,Ve=wp.compose,Ge=Ve.createHigherOrderComponent,qe=(0,Ve.compose)(ze(function(e){return{selected:e("core/block-editor").getSelectedBlock(),select:e}})),Ue=Ge(function(p){return qe(function(e){var t=e.name,o=e.setAttributes,n=e.isSelected,r=e.select;if(ve.includes(t)||"core/columns"!==t||!n)return wp.element.createElement(p,e);var a=r("core/block-editor").getBlock(e.clientId).attributes,c=a.container,i=a.gutters,l=function(e){return Ne(e?"enabled":"disabled","wecodeart")},s=sprintf(Ne("Container wrapper is now %s!","wecodeart"),l(c)),u=sprintf(Ne("Gutters are now %s!","wecodeart"),l(!i));return wp.element.createElement(Me,null,wp.element.createElement(p,e),wp.element.createElement(Le,null,wp.element.createElement(De,{title:Ne("Section Settings","wecodeart"),initialOpen:!1,className:"components-panel__body--wecodeart-panel"},wp.element.createElement("br",null),wp.element.createElement(Fe,{label:Ne("Enable Container Wrapper?","wecodeart"),help:s,checked:!!c,onChange:function(){return o({container:!c})}}),!!c&&wp.element.createElement(Fe,{label:Ne("Disable Gutters?","wecodeart"),help:u,checked:!!i,onChange:function(){return o({gutters:!i})}}))))})},"withColumnsControls");Ae("blocks.getSaveElement","wecodeart/blocks/columns/getSaveElement",function(e,t,o){if("core/columns"!==t.name)return e;var n,r=o.container,a=o.className,c=o.align,i=o.verticalAlignment,l=o.gutters,s=Pe()("wca-section",a,m(o),Te(o)),u=Pe()("wca-section__inner",{container:r&&!1===["full","wide"].includes(c),"container-fluid":r&&!0===["full","wide"].includes(c)}),p=Pe()("row",(Be(n={},"align-items-".concat(i),i),Be(n,"no-gutters",r&&l),n));return wp.element.createElement("section",{className:s,style:j(o,{})},function(e){var t=e.backgroundImg,o=e.backgroundType,n=e.videoMuted,r=e.videoLoop;return["video"===o&&t?wp.element.createElement("div",{className:"wecodeart-video-bg position-absolute overflow-hidden w-100 h-100 pin-t pin-r pin-b pin-l"},wp.element.createElement("video",{className:"w-100 h-100 bg-center-center object-cover object-position",playsinline:"",autoPlay:"",muted:n,loop:r,src:t})):null]}(o),wp.element.createElement("div",{className:u},wp.element.createElement("div",{className:p},wp.element.createElement(He.Content,null))))}),Ae("editor.BlockEdit","wecodeart/editor/columns/withColumnsControls",Ue);var We=wp.components,Je=We.SVG,$e=We.Path,Ke=(We.G,{});Ke.global=wp.element.createElement(Je,{viewBox:"0 0 496 512",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement($e,{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"})),Ke.xs=wp.element.createElement(Je,{viewBox:"0 0 333.197 333.197",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement($e,{d:"M317.239,82.529l-66.571-66.571c-21.279-21.277-55.898-21.277-77.178,0L15.958,173.49   c-21.277,21.278-21.277,55.899,0,77.178l66.571,66.571c10.64,10.639,24.614,15.958,38.589,15.958s27.949-5.319,38.589-15.958   L275.79,201.156c2.929-2.93,2.929-7.678,0-10.607c-2.93-2.928-7.678-2.928-10.607,0l-96.948,96.948L60.467,179.73   c-2.93-2.928-7.678-2.928-10.607,0c-2.929,2.93-2.929,7.678,0,10.607l107.768,107.767l-8.527,8.527   c-7.474,7.475-17.411,11.591-27.981,11.591s-20.508-4.116-27.981-11.591l-66.571-66.571c-7.475-7.474-11.591-17.411-11.591-27.981   s4.116-20.508,11.591-27.981L169.463,41.2l127.838,127.838c0.183,0.183,0.374,0.354,0.57,0.515   c1.375,1.121,3.055,1.682,4.734,1.682s3.359-0.561,4.734-1.682c0.196-0.16,0.387-0.332,0.57-0.515l9.331-9.331   C338.517,138.429,338.517,103.808,317.239,82.529z M306.632,149.1l-4.027,4.027L180.07,30.593l4.027-4.027   c7.474-7.475,17.411-11.591,27.981-11.591s20.508,4.116,27.981,11.591l66.571,66.571c7.475,7.474,11.591,17.411,11.591,27.981   S314.106,141.626,306.632,149.1z"})),Ke.sm=wp.element.createElement(Je,{viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement($e,{d:"M196 448h-72c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v8c0 6.6-5.4 12-12 12zM320 48v416c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V48C0 21.5 21.5 0 48 0h224c26.5 0 48 21.5 48 48zm-32 0c0-8.8-7.2-16-16-16H48c-8.8 0-16 7.2-16 16v416c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V48z"})),Ke.md=wp.element.createElement(Je,{viewBox:"0 0 448 512",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement($e,{d:"M256 416c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-21.3 14.3-32 32-32s32 14.3 32 32zM448 48v416c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V48C0 21.5 21.5 0 48 0h352c26.5 0 48 21.5 48 48zm-32 0c0-8.8-7.2-16-16-16H48c-8.8 0-16 7.2-16 16v416c0 8.8 7.2 16 16 16h352c8.8 0 16-7.2 16-16V48z"})),Ke.lg=wp.element.createElement(Je,{viewBox:"0 0 640 512",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement($e,{d:"M624 352h-48V64c0-35.2-28.8-64-64-64H128C92.8 0 64 28.8 64 64v288H16c-8.8 0-16 7.2-16 16v48c0 52.8 43.2 96 96 96h448c52.8 0 96-43.2 96-96v-48c0-8.8-7.2-16-16-16zM112 64c0-8.67 7.33-16 16-16h384c8.67 0 16 7.33 16 16v288H112V64zm480 352c0 26.47-21.53 48-48 48H96c-26.47 0-48-21.53-48-48v-16h180.9c5.57 9.39 15.38 16 27.1 16h128c11.72 0 21.52-6.61 27.1-16H592v16z"})),Ke.xl=wp.element.createElement(Je,{viewBox:"0 0 640 512",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement($e,{d:"M528 464H112a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16zM592 0H48A48 48 0 0 0 0 48v320a48 48 0 0 0 48 48h544a48 48 0 0 0 48-48V48a48 48 0 0 0-48-48zm0 368H48V48h544z"}));var Ze=Ke;function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function Qe(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function Xe(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function et(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rt=wp.i18n,at=rt.__,ct=rt.sprintf,it=wp.element.Fragment,lt=wp.element.Component,st=wp.components,ut=st.SelectControl,pt=st.TabPanel,mt=function(e){function o(){var e,t;return function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this,(e=!(t=tt(o).apply(this,arguments))||"object"!==Ye(t)&&"function"!=typeof t?ot(this):t).setColumn=e.setColumn.bind(ot(e)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(o,lt),et(o.prototype,[{key:"setColumn",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"global",o=this.props,n=o.attributes.bootstrapColumns;(0,o.setAttributes)({bootstrapColumns:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Qe(o,!0).forEach(function(e){Xe(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Qe(o).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}({},n,Xe({},t,e))})}},{key:"getSelectOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"global",t=(0,this.props.select)("core/editor").getEditorSettings().wecodeart.columnsClasses,o=function(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(t[e].map(function(e){return{value:e,label:function(e){var t=e,o=function(e){var t=e.match(/\d+$/);return!!t&&parseInt(t[0])};if(e.endsWith("-12"))t=at("Full Width","wecodeart");else if(o(e)){var n=o(e);t=ct(at("%s/12","wecodeart"),n)}else t=at("Fill - Remaining","wecodeart");return t}(e)}}));return"global"!==e&&o.unshift({value:"",label:at("None","wecodeart")}),o}},{key:"render",value:function(){var o=this,e=this.props,t=e.label,n=void 0===t?at("Column Width - %s","wecodeart"):t,r=e.onChange,a=void 0===r?this.setColumn:r,c=e.attributes.bootstrapColumns;return wp.element.createElement(pt,{className:"components-base-control wecodeart-horizontal-tabs",activeClass:"is-active",initialTabName:"global",tabs:[{name:"global",title:Ze.global,className:"wecodeart-horizontal-tabs__item wecodeart-horizontal-tabs__item--global"},{name:"sm",title:Ze.sm,className:"wecodeart-horizontal-tabs__item wecodeart-horizontal-tabs__item--sm"},{name:"md",title:Ze.md,className:"wecodeart-horizontal-tabs__item wecodeart-horizontal-tabs__item--md"},{name:"lg",title:Ze.lg,className:"wecodeart-horizontal-tabs__item wecodeart-horizontal-tabs__item--lg"},{name:"xl",title:Ze.xl,className:"wecodeart-horizontal-tabs__item wecodeart-horizontal-tabs__item--xl"}]},function(t){var e=""===c[t.name];return wp.element.createElement(it,null,wp.element.createElement(ut,{className:"components-font-size-picker__select",label:ct(n,t.name.toUpperCase()),value:c[t.name],onChange:function(e){return a(e,t.name)},options:o.getSelectOptions(t.name)}),e&&wp.element.createElement("span",{class:"wecodeart-horizontal-tabs__item-help"},wp.element.createElement("small",null,at("Previous breakpoint column size is used.","wecodeart"))))})}}]),o}();function dt(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var ft=wp.i18n.__,bt=wp.blockEditor.InspectorControls,wt=wp.compose,yt=wt.createHigherOrderComponent,gt=wt.compose,ht=wp.components.PanelBody,vt=wp.data.withSelect,kt=wp.element.Fragment,Ot=wp.hooks.addFilter,_t=gt(vt(function(e){return{selected:e("core/block-editor").getSelectedBlock(),select:e}}));Ot("editor.BlockEdit","wecodeart/editor/columns/withColumnControls",yt(function(n){return _t(function(e){var t=e.name,o=e.isSelected;return!ve.includes(t)&&"core/column"===t&&o?wp.element.createElement(kt,null,wp.element.createElement(n,e),wp.element.createElement(bt,null,wp.element.createElement(ht,{title:ft("Bootstrap Settings","wecodeart"),initialOpen:!1,className:"components-panel__body--wecodeart-column-panel"},wp.element.createElement("p",{className:"components-base-control__label"},ft("Bootstrap columns uses mobile-first approach. This option has no visual preview but it will affect the live page.","wecodeart")),wp.element.createElement(mt,e)))):wp.element.createElement(n,e)})},"withColumnControls")),Ot("blocks.getSaveContent.extraProps","wecodeart/blocks/columns/applyExtraSettings",function(e,t,o){if("core/column"===t.name){var n=o.bootstrapColumns,r=n.global,a=n.xs,c=n.sm,i=n.md,l=n.lg,s=n.xl,u=["col"];(r||a||c||i||l||s)&&(u=[].concat(function(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(u),[dt({},r,"col"!==r),dt({},c,"col-sm-12"!==c&&"col-12"===r),dt({},i,i),dt({},l,l),dt({},s,s)])),e.className=Pe()(e.className,u)}return e});var St=lodash.find;function Ct(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=o.fontSizes,r=o.colors,a=e.textColor,c=e.customTextColor,i=e.fontSize,l=e.customFontSize,s={};if(void 0!==i){var u=St(n,{slug:i});void 0!==u&&void 0!==u.size&&(s.fontSize=u.size+"px")}else void 0!==l&&(s.fontSize=l+"px");if(void 0!==a){if(void 0!==r){var p=St(r,{slug:a});void 0!==p&&void 0!==p.color&&(s.color=p.color)}}else void 0!==c&&(s.color=c);return s}function Et(){return(Et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function Pt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}var jt=lodash.assign,xt=wp.i18n.__,Tt=wp.data.withSelect,Bt=wp.element.Fragment,Nt=wp.blockEditor,zt=Nt.InspectorControls,At=Nt.FontSizePicker,Mt=Nt.withFontSizes,It=Nt.withColors,Ft=Nt.PanelColorSettings,Dt=wp.components,Rt=Dt.PanelBody,Lt=Dt.withFallbackStyles,Ht=wp.hooks.addFilter,Vt=wp.compose,Gt=Vt.compose,qt=Vt.createHigherOrderComponent,Ut=Gt([Tt(function(e){return{propDemo:!0}}),It({textColor:"color"}),Mt("fontSize"),Lt(function(e,t){var o=t.attributes,n=o.fontSize,r=o.customFontSize,a=o.textColor,c=e.querySelector('[contenteditable="true"]'),i=c?getComputedStyle(c):null;return{fallbackTextColor:a||!i?void 0:i.color,fallbackFontSize:n||r||!i?void 0:parseInt(i.fontSize)||void 0}})])(function(e){var t=e.fallbackFontSize,o=e.fontSize,n=e.setFontSize,r=e.textColor,a=e.setTextColor;return wp.element.createElement(zt,null,wp.element.createElement(Rt,{title:xt("Text Settings","wecodeart"),initialOpen:!1,className:"wecodeart-panel"},wp.element.createElement(At,{fallbackFontSize:t,value:o.size,onChange:n})),wp.element.createElement(Ft,{title:xt("Color Settings","wecodeart"),initialOpen:!1,colorSettings:[{value:r.color,onChange:a,label:xt("Text Color","wecodeart")}]}))}),Wt=Gt(Tt(function(e){var t=e("core/block-editor").getSettings(),o=t.fontSizes,n=t.colors;return{selected:e("core/block-editor").getSelectedBlock(),fontSizes:o,select:e,colors:n}})),Jt=qt(function(s){return Wt(function(e){var t=e.select,o=function(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],0<=t.indexOf(o)||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],0<=t.indexOf(o)||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}(e,["select"]),n=o.wrapperProps,r={},a=t("core/block-editor").getBlock(o.clientId).attributes,c=t("core/block-editor").getBlockName(o.clientId);if(Oe.includes(c)){var i=a.customFontSize,l=a.fontSize;(i||l)&&(r=jt(r,{"data-custom-fontsize":1})),n=function(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Pt(a,!0).forEach(function(e){var t,o,n;t=r,n=a[o=e],o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):Pt(a).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}({},n,{style:Ct(a,c,o)},r)}return wp.element.createElement(s,Et({},o,{wrapperProps:n}))})},"withTextSettings");function $t(){return($t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function Kt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function Zt(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Kt(a,!0).forEach(function(e){var t,o,n;t=r,n=a[o=e],o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):Kt(a).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}Ht("editor.BlockEdit","wecodeart/editor/with-text/withBlockPanel",qt(function(n){return Wt(function(e){var t=Et({},e),o=t.name;return t.isSelected&&Oe.includes(o)?wp.element.createElement(Bt,null,wp.element.createElement(n,t),wp.element.createElement(Ut,t)):wp.element.createElement(n,t)})},"withBlockPanel")),Ht("editor.BlockListBlock","wecodeart/editor/with-text/withTextSettings",Jt),Ht("blocks.getSaveContent.extraProps","wecodeart/blocks/with-text/applyTextSettings",function(e,t,o){if(Oe.includes(t.name)){void 0!==e.style?e.style=jt(e.style,Ct(o,t.name)):e.style=Ct(o,t.name);var n=o.customFontSize,r=o.fontSize,a=o.textColor;r?e.className=Pe()(e.className,"has-"+r+"-font-size"):n&&(e.className=Pe()(e.className,"has-custom-size")),a&&(e.className=Pe()(e.className,"has-"+a+"-color"))}return e}),lodash.find,wp.i18n.__;var Yt=wp.blocks.hasBlockSupport,Qt=wp.blockEditor,Xt=Qt.BlockControls,eo=Qt.InspectorControls,to=Qt.withColors,oo=wp.compose.createHigherOrderComponent,no=wp.compose.compose,ro=wp.data.withSelect,ao=wp.element.Fragment,co=wp.components.withFallbackStyles,io=wp.hooks.addFilter,lo=no(ro(function(e){return{selected:e("core/block-editor").getSelectedBlock(),select:e}}),to("backgroundColor"),co(function(e,t){var o=t.attributes,n=o.backgroundColor,r=o.customBackgroundColor,a=e.querySelector('[contenteditable="true"]'),c=a?getComputedStyle(a):null;return{fallbackBackgroundColor:n||r||!c?void 0:c.backgroundColor}})),so=oo(function(l){return lo(function(e){var t=e.select,o=function(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],0<=t.indexOf(o)||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],0<=t.indexOf(o)||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}(e,["select"]),n={},r=o.wrapperProps,a=t("core/block-editor").getBlockName(o.clientId);if(!ve.includes(a)&&Yt(a,"hasBackground")){var c=t("core/block-editor").getBlock(o.clientId).attributes,i=t("core/block-editor").getSettings().colors;o.colors=i,""!==c.backgroundImg&&(n=Zt({},n,{},{"data-wca-background":1})),r=Zt({},r,{style:j(c,o)},n)}return wp.element.createElement(l,$t({},o,{wrapperProps:r}))})},"withBackgroundSettings");io("editor.BlockEdit","wecodeart/editor/with-background/withBackgroundControls",oo(function(n){return lo(function(e){var t=e.name,o=e.isSelected;return!ve.includes(t)&&Yt(t,"hasBackground")&&o?wp.element.createElement(ao,null,wp.element.createElement(n,e),wp.element.createElement(Xt,null,function(e){var t=e.attributes,o=e.setAttributes,n=t.backgroundImg,r=t.openPopover;return wp.element.createElement(y,null,wp.element.createElement(h,{className:n?"components-dropdown-menu":""},r&&wp.element.createElement(k,{position:"bottom center",className:"components-popover--wca"},wp.element.createElement(w,{onSelect:function(e){o({backgroundImg:e.url,backgroundType:e.type,openPopover:!r})},allowedTypes:we,value:n,render:function(e){var t=e.open;return wp.element.createElement(O,{className:"components-dropdown-menu__menu-item",icon:"edit",role:"menuitem",onClick:t},f("Edit Background","wecodeart"))}}),wp.element.createElement(O,{className:"components-dropdown-menu__menu-item",icon:"trash",role:"menuitem",onClick:function(){o({backgroundImg:"",backgroundOverlay:0,backgroundRepeat:"no-repeat",backgroundPosition:"",backgroundSize:"cover",hasParallax:!1,openPopover:!r})}},f("Remove Background","wecodeart"))),n?wp.element.createElement(v,{className:"components-dropdown-menu__toggle",icon:d.background,"aria-haspopup":"true",label:f("Background","wecodeart"),tooltip:f("Background","wecodeart"),onClick:function(){return o({openPopover:!r})}},wp.element.createElement("span",{className:"components-dropdown-menu__indicator"})):wp.element.createElement(w,{onSelect:function(e){o({backgroundImg:e.url,backgroundType:e.type})},allowedTypes:we,value:n,render:function(e){var t=e.open;return wp.element.createElement(v,{className:"components-toolbar__control",label:f("Background","wecodeart"),icon:d.background,onClick:t})}})))}(e)),wp.element.createElement(eo,null,wp.element.createElement(be,$t({},e,{hasOverlay:!0})))):wp.element.createElement(n,e)})},"withBackgroundControls")),io("editor.BlockListBlock","wecodeart/editor/with-background/withBackgroundSettings",so),io("blocks.getSaveContent.extraProps","wecodeart/blocks/with-background/applyExtraSettings",function(e,t,o){return!ve.includes(t.name)&&Yt(t.name,"hasBackground")&&(e.style=j(o,{}),e.className=Pe()(e.className,m(o))),e}),o(1);var uo=wp.i18n.__,po=wp.data.dispatch,mo=wp.element.Fragment,fo=wp.components.ToggleControl,bo=wp.i18n.__,wo=wp.hooks.addFilter,yo=wp.element.Fragment,go=wp.blockEditor.InspectorControls,ho=wp.compose.createHigherOrderComponent,vo=wp.components.PanelBody;function ko(e){return(ko="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function Oo(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _o(e){return(_o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function So(e,t){return(So=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}wo("editor.BlockEdit","wecodeart/editor/visibility/withVisibilityControls",ho(function(r){return function(e){var t=e.name,o=e.isSelected,n=e.isDisabledDevices;return wp.element.createElement(yo,null,wp.element.createElement(r,e),o&&!n&&!ve.includes(t)&&wp.element.createElement(go,null,wp.element.createElement(vo,{title:bo("Visibility","wecodeart"),initialOpen:!1,className:"wecodeart-panel"},wp.element.createElement("p",null,wp.element.createElement("small",null,bo("Attention: The display settings will only take effect once you are on the live page, and not while you're editing in Gutenberg.","wecodeart"))),function(e){var c=e.clientId,t=e.attributes,i=e.reloadModal,l=t.wecodeart,o=function(e){var t=!l[e];delete l[e];var o,n,r,a=Object.assign((r=t,(n=e)in(o={})?Object.defineProperty(o,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[n]=r,o),l);po("core/block-editor").updateBlockAttributes(c,{wecodeart:a}),i&&i()};if(void 0!==l)return wp.element.createElement(mo,null,wp.element.createElement(fo,{label:uo("Hide on Mobile","wecodeart"),checked:void 0!==l.mobile&&!l.mobile,onChange:function(){return o("mobile")}}),wp.element.createElement(fo,{label:uo("Hide on Tablet","wecodeart"),checked:void 0!==l.tablet&&!l.tablet,onChange:function(){return o("tablet")}}),wp.element.createElement(fo,{label:uo("Hide on Desktop","wecodeart"),checked:void 0!==l.desktop&&!l.desktop,onChange:function(){return o("desktop")}}))}(e))))}},"withAdvancedControls")),wo("blocks.getSaveContent.extraProps","wecodeart/blocks/visibility/applyExtraClass",function(e,t,o){var n=o.wecodeart,r=t.name;return ve.includes(r)||void 0===n||(void 0!==n.mobile&&!n.mobile||void 0!==n.tablet&&!n.tablet||void 0!==n.desktop&&!n.desktop)&&(e.className=Pe()(e.className,Te(o))),e});var Co=wp.i18n.__,Eo=wp.element,Po=Eo.Component,jo=Eo.Fragment,xo=function(e){function o(){var e;return function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=function(e,t){return!t||"object"!==ko(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,_o(o).apply(this,arguments))).editor,e.customCSS="",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&So(e,t)}(o,Po),Oo(o.prototype,[{key:"componentDidMount",value:function(){var e,o,n=this,t=this.props.clientId.substr(0,8);if(o=this.props.attributes.className?((e=this.props.attributes.className).includes("wcacss-")||((e=e.split(" ")).push("wcacss-".concat(t)),e=e.join(" ")),(o=e.split(" ")).find(function(e){return e.includes("wcacss")})):e="wcacss-".concat(t),this.props.setAttributes({hasCustomCSS:!0,className:e}),this.props.attributes.customCSS){var r=this.props.attributes.customCSS.replace(/.wcacss-[^#\s]*/g,"selector");this.customCSS=r}else this.customCSS="selector {\n}\n";this.editor=wp.CodeMirror(document.getElementById("wecodeart-css-editor"),{value:this.customCSS,autoCloseBrackets:!0,continueComments:!0,lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,lint:!0,gutters:["CodeMirror-lint-markers"],styleActiveLine:!0,styleActiveSelected:!0,extraKeys:{"Ctrl-Space":"autocomplete","Alt-F":"findPersistent","Cmd-F":"findPersistent"}}),this.editor.on("change",function(){var e=new RegExp("selector","g"),t=n.editor.getValue().replace(e,".".concat(o));if(n.customCSS=t,"selector {\n}\n".replace(/\s+/g,"")===n.customCSS.replace(/\s+/g,""))return n.props.setAttributes({customCSS:null});n.props.setAttributes({customCSS:n.customCSS})})}},{key:"render",value:function(){return wp.element.createElement(jo,null,wp.element.createElement("div",{class:"wecodeart-advanced-css"},wp.element.createElement("hr",null),wp.element.createElement("h2",{class:"wecodeart-advanced-css__title"},Co("Add your custom CSS.","wecodeart")),wp.element.createElement("div",{className:"wecodeart-advanced-css__editor",id:"wecodeart-css-editor"}),wp.element.createElement("div",{class:"wecodeart-advanced-css__content"},wp.element.createElement("p",null,Co("Use","wecodeart")," ",wp.element.createElement("code",null,"selector")," ",Co("to target block wrapper.","wecodeart")),wp.element.createElement("p",null,Co("Example:","wecodeart")),wp.element.createElement("pre",{className:"wecodeart-advanced-css__help"},"selector {\n    background: #000;\n}\n\nselector img {\n    border-radius: 100%;\n}"),wp.element.createElement("p",null,Co("You can also use other CSS syntax here, such as media queries.","wecodeart")))))}}]),o}(),To=(o(2),lodash.assign),Bo=wp.blocks.hasBlockSupport,No=wp.compose.createHigherOrderComponent,zo=wp.blockEditor.InspectorAdvancedControls,Ao=wp.element.Fragment,Mo=wp.hooks.addFilter,Io=No(function(n){return function(e){var t=!ve.includes(e.name),o=Bo(e.name,"customClassName",!0);return t&&o&&e.isSelected?wp.element.createElement(Ao,null,wp.element.createElement(n,e),wp.element.createElement(zo,null,wp.element.createElement(xo,{clientId:e.clientId,setAttributes:e.setAttributes,attributes:e.attributes}))):wp.element.createElement(n,e)}},"withInspectorControl");Mo("blocks.registerBlockType","wecodeart/blocks/custom-css/addAttributes",function(e){return!ve.includes(e.name)&&Bo(e,"customClassName",!0)&&(e.attributes=To(e.attributes,{hasCustomCSS:{type:"boolean",default:!1},customCSS:{type:"string",default:null}})),e}),Mo("editor.BlockEdit","wecodeart/editor/custom-css/withInspectorControl",Io);var Fo=wp.i18n.__,Do=[{title:Fo("Markdown Formatting","wecodeart"),shortcuts:[{keyCombination:["##","SPACE"],description:Fo("Large header (h2)","wecodeart")},{keyCombination:["###","SPACE"],description:Fo("Medium header (h3)","wecodeart")},{keyCombination:["####","SPACE"],description:Fo("Small header (h4)","wecodeart")},{keyCombination:["1.","SPACE"],description:Fo("Numbered list","wecodeart")},{keyCombination:["*","SPACE"],description:Fo("Bulleted list","wecodeart")},{keyCombination:[">","SPACE"],description:Fo("Blockquote","wecodeart")},{keyCombination:["_italic_"],description:Fo("Italic","wecodeart")},{keyCombination:["*bold*"],description:Fo("Bold","wecodeart")},{keyCombination:["~Strikethrough~"],description:Fo("Strikethrough","wecodeart")},{keyCombination:["`code`"],description:Fo("Code","wecodeart")}]}];function Ro(e){return(Ro="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function Lo(){return(Lo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function Ho(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vo(e){return(Vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Go(e,t){return(Go=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qo=lodash.castArray,Uo=wp.i18n.__,Wo=wp.element,Jo=Wo.Fragment,$o=Wo.Component,Ko=wp.editPost.PluginMoreMenuItem,Zo=wp.compose,Yo=Zo.compose,Qo=Zo.ifCondition,Xo=wp.data,en=(Xo.select,Xo.withSelect),tn=wp.components,on=tn.withSpokenMessages,nn=tn.Modal,rn=function(e){function o(){var e;return function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=function(e,t){return!t||"object"!==Ro(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,Vo(o).apply(this,arguments))).state={isOpen:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Go(e,t)}(o,$o),Ho(o.prototype,[{key:"render",value:function(){var e=this,n=function(e){var t=e.shortcuts;return wp.element.createElement("dl",{className:"edit-post-keyboard-shortcut-help__shortcut-list"},t.map(function(e,t){var o=e.keyCombination,n=e.description,r=e.ariaLabel;return wp.element.createElement("div",{className:"edit-post-keyboard-shortcut-help__shortcut",key:t},wp.element.createElement("div",{className:"edit-post-keyboard-shortcut-help__shortcut-description"},n),wp.element.createElement("div",{className:"edit-post-keyboard-shortcut-help__shortcut-term"},wp.element.createElement("kbd",{className:"edit-post-keyboard-shortcut-help__shortcut-key-combination","aria-label":r},qo(o).map(function(e,t){return"+"===e?wp.element.createElement(Jo,{key:t},e):wp.element.createElement("kbd",{key:t,className:"edit-post-keyboard-shortcut-help__shortcut-key"},e)}))))}))},o=function(e){var t=e.title,o=e.shortcuts;return wp.element.createElement("section",{className:"edit-post-keyboard-shortcut-help__section"},wp.element.createElement("h2",{className:"edit-post-keyboard-shortcut-help__section-title"},t),wp.element.createElement(n,{shortcuts:o}))};return wp.element.createElement(Jo,null,wp.element.createElement(Ko,{icon:null,role:"menuitemcheckbox",onClick:function(){e.setState({isOpen:!0})}},Uo("Markdown Formatting","wecodeart")),this.state.isOpen?wp.element.createElement(nn,{title:Uo("Keyboard Shortcuts","wecodeart"),onRequestClose:function(){return e.setState({isOpen:!1})},closeLabel:Uo("Close","wecodeart"),icon:null,className:"wca-modal-component components-modal--wca-markdown"},Do.map(function(e,t){return wp.element.createElement(o,Lo({key:t},e))})):null)}}]),o}(),an={name:"wca-markdown-formatting",render:Yo(en(function(){return{isDisabled:!1}}),Qo(function(e){return!e.isDisabled}),on)(rn)};function cn(e){return(cn="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function ln(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sn(e){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function un(e,t){return(un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pn=wp.data,mn=pn.withSelect,dn=pn.dispatch,fn=wp.compose.compose,bn=wp.blocks.parse,wn=wp.element.Component,yn=wp.components.withSpokenMessages,gn=function(e){function o(){var e;return function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=function(e,t){return!t||"object"!==cn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,sn(o).apply(this,arguments))).state={isLoaded:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&un(e,t)}(o,wn),ln(o.prototype,[{key:"componentDidMount",value:function(){this.addCodeMirror()}},{key:"componentDidUpdate",value:function(){this.addCodeMirror()}},{key:"addCodeMirror",value:function(){var e=this.props,t=e.isDisabled,o=e.editorMode;if(t)return null;if("text"!==o||this.state.isLoaded)"visual"===o&&this.state.isLoaded&&this.setState({isLoaded:!1});else{var n=wp.codeEditor.defaultSettings?_.clone(wp.codeEditor.defaultSettings):{};document.body.classList.add("wca-editor-loaded"),n.codemirror=_.extend({},n.codemirror,{mode:"text/html",lineNumbers:!0,indentUnit:2,tabSize:2,height:"auto",lineWrapping:!0,scrollbarStyle:"null"});var r=document.querySelector(".editor-post-text-editor"),a=wp.codeEditor.initialize(r,n);a.codemirror.on("change",function(e){var t=e.getValue();r.innerHTML=t,dn("core/editor").editPost({content:t})}),a.codemirror.on("blur",function(e){var t=e.getValue(),o=bn(t);dn("core/editor").resetEditorBlocks(o)}),this.setState({isLoaded:!0})}}},{key:"render",value:function(){return null}}]),o}(),hn={name:"wca-code-editor",render:fn([mn(function(e){return{readyState:document.readyState,isDisabled:!1,editorMode:e("core/edit-post").getEditorMode()}}),yn])(gn)};function vn(e){return(vn="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function kn(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function On(e){return(On=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sn(e,t){return(Sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Cn=wp.i18n.__,En=wp.element.Component,Pn=wp.compose.compose,jn=wp.editPost.PluginPostStatusInfo,xn=wp.data,Tn=xn.select,Bn=xn.withSelect,Nn=xn.withDispatch,zn=wp.components,An=zn.withSpokenMessages,Mn=zn.CheckboxControl,In=function(e){function o(){var e,t;return function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this,(e=!(t=On(o).apply(this,arguments))||"object"!==vn(t)&&"function"!=typeof t?_n(this):t).initialize=e.initialize.bind(_n(e)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sn(e,t)}(o,En),kn(o.prototype,[{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentDidUpdate",value:function(){this.initialize()}},{key:"initialize",value:function(){var e=this.props.postMeta;if(document.querySelector(".editor-post-title__block")){var t=e._wca_title_hidden,o=void 0!==e&&void 0!==t&&t,n=o?"wca-title-hidden":"wca-title-visible";o?document.body.classList.remove("wca-title-visible"):document.body.classList.remove("wca-title-hidden"),document.body.classList.add(n)}}},{key:"render",value:function(){var e=this.props,t=e.onToggle,o=e.postMeta,n=e.postType;if(["wp_block"].includes(n))return!1;var r=o._wca_title_hidden,a=void 0!==o&&void 0!==r&&r,c=Cn(a?"Hidden":"Shown","wecodeart");return c=sprintf(Cn("Title is %s.","wecodeart"),c),wp.element.createElement(jn,null,wp.element.createElement(Mn,{className:"wca-post-status-label",label:Cn("Hide "+n+" title on single template?","wecodeart"),checked:a,onChange:t,help:c}))}}]),o}(),Fn={name:"wca-disable-title",render:Pn(Bn(function(){return{postType:Tn("core/editor").getEditedPostAttribute("type"),postMeta:Tn("core/editor").getEditedPostAttribute("meta")}}),Nn(function(e,t){var o;return void 0!==t.postMeta&&void 0!==t.postMeta._wca_title_hidden&&(o=t.postMeta._wca_title_hidden),{onToggle:function(){e("core/editor").editPost({meta:{_wca_title_hidden:!o}})}}}),An)(In)};function Dn(e){return(Dn="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function Rn(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ln(e){return(Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hn(e,t){return(Hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vn=wp.data.withSelect,Gn=wp.compose.compose,qn=wp.element.Component,Un=wp.components.withSpokenMessages,Wn=function(e){function o(){return function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){return!t||"object"!==Dn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,Ln(o).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hn(e,t)}(o,qn),Rn(o.prototype,[{key:"componentDidMount",value:function(){this.sync()}},{key:"componentDidUpdate",value:function(){this.sync()}},{key:"sync",value:function(){this.props.isDisabled?document.body.classList.remove("is-wca-heading-label-on"):document.body.classList.add("is-wca-heading-label-on")}},{key:"render",value:function(){return null}}]),o}(),Jn={name:"wca-heading-label",render:Gn([Vn(function(e){return{isDisabled:!1}}),Un])(Wn)};function $n(e){return($n="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function Kn(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function Zn(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yn(e){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qn(e,t){return(Qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xn=lodash.get,er=wp.i18n.__,tr=wp.data,or=tr.select,nr=tr.withSelect,rr=tr.withDispatch,ar=wp.element.Component,cr=wp.components.withSpokenMessages,ir=wp.editPost.PluginBlockSettingsMenuItem,lr=wp.compose,sr=lr.compose,ur=lr.ifCondition,pr=wp.richText,mr=pr.create,dr=pr.toHTMLString,fr=["core/paragraph","core/heading"],br=function(e){function o(){return function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){return!t||"object"!==$n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,Yn(o).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qn(e,t)}(o,ar),Zn(o.prototype,[{key:"render",value:function(){var e=this.props,t=e.blockId,o=e.blockName,n=e.blockContent,r=e.clearBlockFormatting,a=mr({html:n});return wp.element.createElement(ir,{icon:"editor-removeformatting",label:er("Clear Block Formatting","wecodeart"),onClick:function(){r(t,o,dr({value:function(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Kn(a,!0).forEach(function(e){var t,o,n;t=r,n=a[o=e],o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):Kn(a).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}({},a,{formats:Array(a.formats.length)})}))}})}}]),o}(),wr={name:"wca-clear-formatting",render:sr(nr(function(){var e=or("core/block-editor").getSelectedBlock();return e?{blockId:e.clientId,blockName:e.name,blockContent:Xn(e,"attributes.content"),isDisabled:!1}:{}}),rr(function(e){var n=e("core/block-editor").updateBlockAttributes;return{clearBlockFormatting:function(e,t,o){n(e,{content:o})}}}),ur(function(e){return!e.isDisabled&&fr.includes(e.blockName)}),cr)(br)};function yr(e){return(yr="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function gr(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hr(e){return(hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vr(e,t){return(vr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var kr=wp.i18n.__,Or=wp.element.Component,_r=wp.compose,Sr=_r.compose,Cr=_r.ifCondition,Er=wp.editPost.PluginPostStatusInfo,Pr=wp.data,jr=Pr.select,xr=Pr.withSelect,Tr=Pr.withDispatch,Br=wp.components,Nr=Br.withSpokenMessages,zr=Br.CheckboxControl,Ar=function(e){function o(){return function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){return!t||"object"!==yr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,hr(o).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vr(e,t)}(o,Or),gr(o.prototype,[{key:"render",value:function(){var e=this.props,t=e.onToggle,o=e.postMeta,n=e.postType;if(["wp_block"].includes(n)||!["page"].includes(n))return!1;var r=o._wca_builder_template,a=void 0!==o&&void 0!==r&&r,c=kr(a?"Enabled":"Disabled","wecodeart");return c=sprintf(kr("Page builder template is %s.","wecodeart"),c),wp.element.createElement(Er,null,wp.element.createElement(zr,{className:"wca-post-status-label",label:kr("Enable Page Builder Template?","wecodeart"),checked:a,onChange:t,help:c}))}}]),o}(),Mr={name:"wca-builder-template",render:Sr(xr(function(){return{postType:jr("core/editor").getEditedPostAttribute("type"),postMeta:jr("core/editor").getEditedPostAttribute("meta")}}),Tr(function(e,t){var o;return void 0!==t.postMeta&&void 0!==t.postMeta._wca_builder_template&&(o=t.postMeta._wca_builder_template),{onToggle:function(){e("core/editor").editPost({meta:{_wca_builder_template:!o}})}}}),Cr(function(e){return"page"===e.postType}),Nr)(Ar)},Ir=wp.plugins.registerPlugin;function Fr(e){return(Fr="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function Dr(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Rr(e){return(Rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hr(e,t){return(Hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}[an,hn,Fn,Jn,wr,Mr].forEach(function(e){if(e){var t=e.name,o=e.render;Ir(t,{icon:!1,render:o})}});var Vr=wp.i18n.__,Gr=wp.element,qr=Gr.Component,Ur=Gr.Fragment,Wr=wp.compose,Jr=Wr.compose,$r=Wr.ifCondition,Kr=wp.data.withSelect,Zr=wp.blockEditor.RichTextToolbarButton,Yr=wp.richText,Qr=Yr.applyFormat,Xr=Yr.removeFormat,ea=Yr.getActiveFormat,ta=wp.components,oa=ta.Modal,na=ta.Button,ra=ta.TextControl,aa=function(e){function o(){var e,t;return function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this,(e=!(t=Rr(o).apply(this,arguments))||"object"!==Fr(t)&&"function"!=typeof t?Lr(this):t).toggle=e.toggle.bind(Lr(e)),e.state={isOpen:!1,title:"",lang:""},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hr(e,t)}(o,qr),Dr(o.prototype,[{key:"toggle",value:function(){this.setState(function(e){return{isOpen:!e.isOpen}})}},{key:"render",value:function(){var t=this,e=this.state,o=e.title,n=e.lang,r=this.props,a=r.isActive,c=r.value,i=r.onChange,l=ea(c,"wca/abbreviation");return wp.element.createElement(Ur,null,wp.element.createElement(Zr,{icon:"editor-code",title:Vr("Abbreviation","wecodeart"),onClick:this.toggle,isActive:a}),this.state.isOpen&&wp.element.createElement(oa,{title:Vr("Insert Abbreviation","wecodeart"),onRequestClose:this.toggle},wp.element.createElement(ra,{label:Vr("Title","wecodeart"),value:l&&!o?l.attributes.title:o,onChange:function(e){return t.setState({title:e})}}),wp.element.createElement(ra,{label:Vr("Language (optional)","wecodeart"),value:l&&!n?l.attributes.lang:n,help:Vr("Example: fr, en, de, etc. Use it only if the abbreviations language is different from page main language.","wecodeart"),onChange:function(e){return t.setState({lang:e})}}),wp.element.createElement(na,{isPrimary:!0,isLarge:!0,onClick:function(){if(o){var e={title:o};n&&(e.lang=n),i(Qr(c,{type:"wca/abbreviation",attributes:e}))}else i(Xr(c,"wca/abbreviation"));t.toggle()}},Vr("Apply","wecodeart"))))}}]),o}(),ca=Jr(Kr(function(e){return{isDisabled:!1}}),$r(function(e){return!e.isDisabled}))(aa),ia={name:"wca/abbreviation",title:(0,wp.i18n.__)("Abbreviation","wecodeart"),tagName:"abbr",className:null,attributes:{title:"title",lang:"lang"},edit:ca},la=wp.i18n.__,sa=wp.element.Fragment,ua=wp.richText.toggleFormat,pa=wp.blockEditor,ma=pa.RichTextToolbarButton,da=pa.RichTextShortcut,fa=wp.data.select,ba={name:"wca/underline",title:la("Underline","wecodeart"),tagName:"span",className:"has-underline",attributes:{class:"class"},edit:function(e){var t=e.isActive,o=e.value,n=e.onChange,r=fa("core/rich-text").getFormatTypes().filter(function(e){return"wpcom/underline"===e.name}),a=function(){n(ua(o,{type:"wca/underline"}))};return wp.element.createElement(sa,null,wp.element.createElement(da,{type:"primary",character:"u",onUse:a}),0===r.length&&wp.element.createElement(ma,{icon:"editor-underline",title:la("Underline","wecodeart"),onClick:a,isActive:t,shortcutType:"primary",shortcutCharacter:"u"}))}};function wa(e){return(wa="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function ya(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ga(e){return(ga=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ha(e,t){return(ha=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var va=lodash.get,ka=wp.i18n.__,Oa=wp.element.Component,_a=wp.compose,Sa=_a.compose,Ca=_a.ifCondition,Ea=wp.data,Pa=Ea.select,ja=Ea.withSelect,xa=Ea.withDispatch,Ta=wp.blockEditor.RichTextToolbarButton,Ba=function(e){function o(){return function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){return!t||"object"!==wa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,ga(o).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ha(e,t)}(o,Oa),ya(o.prototype,[{key:"render",value:function(){var e=this.props,t=e.blockId,o=e.isBlockJustified,n=e.updateBlockAttributes;return wp.element.createElement(Ta,{icon:"editor-justify",title:ka("Justify","wecodeart"),onClick:function(){n(t,{align:o?null:"justify"})},isActive:o})}}]),o}(),Na=Sa(ja(function(){var e=Pa("core/block-editor").getSelectedBlock();return e?{blockId:e.clientId,blockName:e.name,isBlockJustified:"justify"===va(e,"attributes.align"),formatTypes:Pa("core/rich-text").getFormatTypes()}:{}}),xa(function(e){return{updateBlockAttributes:e("core/block-editor").updateBlockAttributes}}),Ca(function(e){var t=e.formatTypes.filter(function(e){return"wpcom/justify"===e.name});return"core/paragraph"===e.blockName&&0===t.length}))(Ba),za={name:"wca/justify",title:(0,wp.i18n.__)("Align text justify","wecodeart"),tagName:"p",className:null,attributes:{style:"style"},edit:function(e){var t=e.isActive,o=e.value,n=e.onChange,r=e.activeAttributes;return wp.element.createElement(Na,{name:"wca/justify",isActive:t,value:o,onChange:n,activeAttributes:r})}};function Aa(e){return(Aa="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function Ma(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ia(e){return(Ia=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Da(e,t){return(Da=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ra=wp.i18n.__,La=wp.element.Component,Ha=wp.data,Va=Ha.select,Ga=Ha.withSelect,qa=wp.blockEditor,Ua=qa.BlockControls,Wa=qa.getColorClassName,Ja=qa.getColorObjectByColorValue,$a=qa.getColorObjectByAttributeValues,Ka=wp.richText,Za=Ka.applyFormat,Ya=Ka.removeFormat,Qa=Ka.getActiveFormat,Xa=wp.components,ec=Xa.Toolbar,tc=Xa.IconButton,oc=Xa.Popover,nc=Xa.ColorPalette,rc=wp.compose,ac=rc.compose,cc=rc.ifCondition,ic=Ra("Text Color","wecodeart"),lc=function(e){function o(){var e,t;return function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this,(e=!(t=Ia(o).apply(this,arguments))||"object"!==Aa(t)&&"function"!=typeof t?Fa(this):t).toggle=e.toggle.bind(Fa(e)),e.state={isOpen:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Da(e,t)}(o,La),Ma(o.prototype,[{key:"toggle",value:function(){this.setState(function(e){return{isOpen:!e.isOpen}})}},{key:"render",value:function(){var e,t=this,o=this.state.isOpen,n=this.props,r=n.value,a=n.onChange,c=n.colors,i=Qa(r,"wca/color");if(i){var l=i.attributes.style;l&&(e=l.replace(new RegExp("^color:\\s*"),""));var s=i.attributes.class;if(s){var u=s.replace(/.*has-(.*?)-color.*/,"$1");e=$a(c,u).color}}return wp.element.createElement(Ua,null,wp.element.createElement(ec,{className:"components-toolbar--wca"},wp.element.createElement(tc,{className:"components-button components-icon-button components-toolbar__control components-wca-color-format",icon:"editor-textcolor","aria-haspopup":"true",tooltip:ic,onClick:this.toggle},wp.element.createElement("span",{className:"components-toolbar__indicator",style:{backgroundColor:e}})),o&&wp.element.createElement(oc,{position:"bottom center",className:"components-popover--wca",focusOnMount:"container",onClickOutside:function(e){e.target.classList.contains("components-wca-color-format")||document.querySelector(".components-wca-color-format").contains(e.target)||document.querySelector(".components-color-palette__picker")&&(!document.querySelector(".components-color-palette__picker")||document.querySelector(".components-color-palette__picker").contains(e.target))||t.setState({isOpen:!o})}},wp.element.createElement(nc,{colors:c,value:e,onChange:function(e){if(e){var t=null;void 0!==window.wecodeartInfo&&window.wecodeartInfo.supports.colorPalette&&(t=Ja(c,e)),a(Za(r,{type:"wca/color",attributes:t?{class:Wa("color",t.slug)}:{style:"color:".concat(e)}}))}else a(Ya(r,"wca/color"))}}))))}}]),o}(),sc=ac(Ga(function(){return{colors:Va("core/block-editor").getSettings().colors||[],isDisabled:!1}}),cc(function(e){return!e.isDisabled}))(lc),uc={name:"wca/color",title:(0,wp.i18n.__)("Text Color","wecodeart"),tagName:"span",className:"has-inline-color",attributes:{style:"style",class:"class"},edit:sc},pc={};pc.highlighter=wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"300",width:"300",viewBox:"0 0 512 512"}," ",wp.element.createElement("path",{d:"M240.2,369.1 C244.39999999999998,373.3 251.2,373 255.10000000000002,368.6 L465.7,125.4 C474.5,115.3 474,100.2 464.5,90.7 L426.3,52.5 C416.8,43 401.7,42.5 391.6,51.3 L148.4,262 C143.9,265.9 143.7,272.7 147.9,276.9 L240.2,369.1 z",id:"svg_2"})," ",wp.element.createElement("path",{d:"M48.2,449.7 L86.5,462.5 L104.5,444.5 L172.1,444.5 C174.8,444.5 177.4,443.4 179.3,441.5 L205.1,415.7 C209.1,411.7 209.1,405.3 205.1,401.3 L111.6,308 C107.6,304 101.19999999999999,304 97.19999999999999,308 L71.4,333.8 C69.5,335.7 68.4,338.3 68.4,341 L68.4,404.4 C68.4,407.1 67.3,409.7 65.4,411.6 L44.099999999999994,432.9 C38.900000000000006,438.2 41.099999999999994,447.3 48.2,449.7 z",id:"svg_3"})," ");var mc=pc;function dc(e){return(dc="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function fc(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bc(e){return(bc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yc(e,t){return(yc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gc=wp.i18n.__,hc=wp.element,vc=hc.Component,kc=hc.Fragment,Oc=wp.data,_c=Oc.select,Sc=Oc.withSelect,Cc=wp.blockEditor,Ec=Cc.BlockControls,Pc=Cc.getColorClassName,jc=Cc.getColorObjectByColorValue,xc=Cc.getColorObjectByAttributeValues,Tc=wp.richText,Bc=Tc.applyFormat,Nc=Tc.removeFormat,zc=Tc.getActiveFormat,Ac=wp.components,Mc=Ac.Toolbar,Ic=Ac.IconButton,Fc=Ac.Popover,Dc=Ac.ColorPalette,Rc=wp.compose,Lc=Rc.compose,Hc=Rc.ifCondition,Vc=gc("Highlight Color","wecodeart"),Gc=function(e){function o(){var e,t;return function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this,(e=!(t=bc(o).apply(this,arguments))||"object"!==dc(t)&&"function"!=typeof t?wc(this):t).toggle=e.toggle.bind(wc(e)),e.state={isOpen:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yc(e,t)}(o,vc),fc(o.prototype,[{key:"toggle",value:function(){this.setState(function(e){return{isOpen:!e.isOpen}})}},{key:"render",value:function(){var e,t=this,o=this.state.isOpen,n=this.props,r=n.value,a=n.onChange,c=n.isActive,i=n.colors,l=zc(r,"wca/background");if(l){var s=l.attributes.style;s&&(e=s.replace(new RegExp("^background-color:\\s*"),""));var u=l.attributes.class;if(u){var p=u.replace(/.*has-(.*?)-background-color.*/,"$1");e=xc(i,p).color}}return wp.element.createElement(kc,null,wp.element.createElement(Ec,null,wp.element.createElement(Mc,{className:"components-toolbar--wca"},wp.element.createElement(Ic,{className:Pe()("components-button components-icon-button components-toolbar__control components-wca-background-format",{"is-active":c}),icon:mc.highlighter,"aria-haspopup":"true",tooltip:Vc,onClick:this.toggle}),o&&wp.element.createElement(Fc,{position:"bottom center",className:"components-popover--wca",focusOnMount:"container",onClickOutside:function(e){e.target.classList.contains("components-wca-background-format")||document.querySelector(".components-wca-background-format").contains(e.target)||document.querySelector(".components-color-palette__picker")&&(!document.querySelector(".components-color-palette__picker")||document.querySelector(".components-color-palette__picker").contains(e.target))||t.setState({isOpen:!o})}},wp.element.createElement(Dc,{colors:i,value:e,onChange:function(e){if(e){var t=null;void 0!==window.wecodeartInfo&&window.wecodeartInfo.supports.colorPalette&&(t=jc(i,e)),a(Bc(r,{type:"wca/background",attributes:t?{class:Pc("background-color",t.slug)}:{style:"background-color:".concat(e)}}))}else a(Nc(r,"wca/background"))}})))))}}]),o}(),qc=Lc(Sc(function(){return{colors:_c("core/block-editor").getSettings().colors||[],isDisabled:!1}}),Hc(function(e){return!e.isDisabled}))(Gc),Uc={name:"wca/background",title:(0,wp.i18n.__)("Background Color","wecodeart"),tagName:"span",className:"has-inline-background",attributes:{style:"style",class:"class"},edit:qc};function Wc(e){return(Wc="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function Jc(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function $c(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Kc(e){return(Kc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zc(e,t){return(Zc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yc=wp.element.Component,Qc=wp.compose,Xc=Qc.compose,ei=Qc.ifCondition,ti=wp.data,oi=ti.withSelect,ni=ti.withDispatch,ri=wp.richText,ai=ri.applyFormat,ci=ri.getTextContent,ii=ri.remove,li=wp.components.withSpokenMessages,si=lodash.map,ui=function(e){function o(){var e;return function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=function(e,t){return!t||"object"!==Wc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,Kc(o).apply(this,arguments))).state={start:null,end:null},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zc(e,t)}(o,Yc),$c(o.prototype,[{key:"_experimentalMarkdown",value:function(e,t,o,n){var r=e.start,a=ci(e);if(a.slice(r-1,r)!==o)return e;var c=a.slice(0,r-1).lastIndexOf(o);if(-1===c)return e;var i=c,l=r-2;if(i===l)return e;if(1<a.slice(i,1+l).split("\n").length)return e;var s=function(e){var t=e.formats,o=e.start,n=e.end,r=e.activeFormats;if(void 0===o)return[];if(o!==n)return t[o]||[];if(r)return r;var a=t[o-1]||[],c=t[o]||[];return a.length<c.length?a:c}(e);if(0<s.length&&s.filter(function(e){return"core/code"===e.type}))return e;var u=a.slice(i-1,i);return 1===u.length&&u.match(/[A-Z|a-z]/i)||" "===a.slice(i+1,i+2)||(e=ii(e,i,i+1),e=ii(e,l,1+l),e=ai(e,{type:n},i,l),wp.data.dispatch("core/block-editor").stopTyping(),this.setState({start:i,end:l}),e.activeFormats=[],t(function(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Jc(a,!0).forEach(function(e){var t,o,n;t=r,n=a[o=e],o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):Jc(a).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}({},e,{needsSelectionUpdate:!0}))),e}},{key:"render",value:function(){var t=this,e=this.props,o=e.value,n=e.onChange;return si({bold:{markdown:"*",format:"core/bold"},italic:{markdown:"_",format:"core/italic"},strikethrough:{markdown:"~",format:"core/strikethrough"}},function(e){t._experimentalMarkdown(o,n,e.markdown,e.format)}),null}}]),o}(),pi=Xc(oi(function(){return{isDisabled:!1}}),ni(function(e,t){var o=t.clientId,n=t.instanceId,r=t.identifier,a=void 0===r?n:r,c=e("core/block-editor").selectionChange;return{onSelectionChange:function(e,t){c(o,a,e,t)}}}),ei(function(e){return!e.isDisabled}),li)(ui),mi={name:"wca/markdown",title:(0,wp.i18n.__)("Underline","wecodeart"),tagName:"p",className:"wca-markdown",attributes:{style:"style"},edit:function(e){var t=e.isActive,o=e.value,n=e.onChange,r=e.activeAttributes;return wp.element.createElement(pi,{name:"wca/markdown",isActive:t,value:o,onChange:n,activeAttributes:r})}};function di(e){return(di="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function fi(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function bi(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wi(e){return(wi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yi(e,t){return(yi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gi=lodash.map,hi=wp.i18n.__,vi=wp.element.Component,ki=wp.compose,Oi=ki.compose,_i=ki.ifCondition,Si=wp.data,Ci=Si.select,Ei=Si.withSelect,Pi=wp.blockEditor.RichTextToolbarButton,ji=wp.richText.removeFormat,xi=function(e){function o(){return function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){return!t||"object"!==di(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,wi(o).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yi(e,t)}(o,vi),bi(o.prototype,[{key:"render",value:function(){var e=this.props,o=e.value,t=e.isActive,n=e.onChange;return wp.element.createElement(Pi,{icon:"editor-removeformatting",title:hi("Clear Formatting","wecodeart"),onClick:function(){var e=Ci("core/rich-text").getFormatTypes();if(0<e.length){var t=o;gi(e,function(e){t=ji(t,e.name)}),n(function(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?fi(a,!0).forEach(function(e){var t,o,n;t=r,n=a[o=e],o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):fi(a).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}({},t))}},isActive:t})}}]),o}(),Ti=Oi(Ei(function(){return{isDisabled:!1}}),_i(function(e){return!e.isDisabled}))(xi),Bi={name:"wca/clear-formatting",title:(0,wp.i18n.__)("Clear Formatting","wecodeart"),tagName:"span",className:"wca-clear-formatting",edit:function(e){var t=e.isActive,o=e.value,n=e.onChange,r=e.activeAttributes;return wp.element.createElement(Ti,{name:"wca/clear-formatting",isActive:t,value:o,onChange:n,activeAttributes:r})}};var Ni=wp.richText.registerFormatType;function zi(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}wp.domReady(function(){[ia,Uc,Bi,za,mi,uc,ba].forEach(function(e){var t=e.name,o=function(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],0<=t.indexOf(o)||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],0<=t.indexOf(o)||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}(e,["name"]);t&&Ni(t,o)})}),o.d(t,"default",function(){return Mi});var Ai=wp.blocks.registerBlockType;function Mi(){[].forEach(function(e){if(e){var t=e.name,o=e.settings;Ai(t,function(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?zi(a,!0).forEach(function(e){var t,o,n;t=r,n=a[o=e],o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):zi(a).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}({},o,{category:"wca"}))}})}Mi()}]);
//# sourceMappingURL=editor.js.map
