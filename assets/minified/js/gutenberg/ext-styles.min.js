(()=>{var e={247:()=>{const{i18n:{__},blocks:{parse:e},data:{select:t,subscribe:r}}=wp,{flattenDeep:n}=lodash;r((()=>{const{getBlocks:r}=t("core/block-editor")||t("core/editor");(e=>{let t=document.getElementById("wecodeart-blocks-dynamic-styles");null===t&&(t=document.createElement("style"),t.setAttribute("type","text/css"),t.setAttribute("id","wecodeart-blocks-dynamic-styles"),document.getElementsByTagName("head")[0].appendChild(t)),t.textContent===e||(t.textContent=e)})(((t,r)=>{if(!t)return"";const c=t=>{const n=[];if("core/block"===t.name&&null!==r){const s=r.find((e=>t.attributes.ref===e.id));s&&s.content&&n.push(e(s.content.raw||s.content).map((e=>[e,c(e)])))}return void 0!==t.innerBlocks&&0<t.innerBlocks.length&&n.push(t.innerBlocks.map((e=>[e,c(e)]))),n},s=t.map((e=>[e,c(e)]));return n(s).map((e=>{const{attributes:{customCSS:t=null}={},clientId:r}=e;return t?t.replace(new RegExp("selector","g"),`.wp-block[data-block="${r}"]`)+"\n":""})).reduce(((e,t)=>e+t),"")})(r(),t("core").getEntityRecords("postType","wp_block")))}))}},t={};function r(n){var c=t[n];if(void 0!==c)return c.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}(()=>{"use strict";const e=window.wp.element,{i18n:{__,sprintf:t},element:{useEffect:n,useState:c,useRef:s},components:{Popover:o,Button:l,Dashicon:a}}=wp,u=r=>{let{attributes:u,setAttributes:i}=r;const{customCSS:d}=u,m=s(null),p=s(null),b="selector {\n}\n";return n((()=>{p.current=b,d&&(p.current=d),m.current=wp.CodeMirror(document.getElementById("wecodeart-css-editor"),{value:p.current,autoCloseBrackets:!0,continueComments:!0,lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,lint:!0,gutters:["CodeMirror-lint-markers"],styleActiveLine:!0,styleActiveSelected:!0,extraKeys:{"Ctrl-Space":"autocomplete","Alt-F":"findPersistent","Cmd-F":"findPersistent"}}),m.current.on("change",(()=>{if(p.current=m.current.getValue(),b.replace(/\s+/g,"")===p.current.replace(/\s+/g,""))return i({customCSS:null});i({customCSS:p.current})}))}),[]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{class:"wecodeart-advanced-css"},(0,e.createElement)("hr",null),(0,e.createElement)("p",{class:"wecodeart-advanced-css__title"},__("Add your custom CSS.","wecodeart")),(0,e.createElement)("div",{className:"wecodeart-advanced-css__editor",id:"wecodeart-css-editor"}),(0,e.createElement)((()=>{const[r,n]=c(!1);return(0,e.createElement)(l,{variant:r?"primary":"secondary",onClick:()=>n((e=>!e))},(0,e.createElement)(a,{icon:"info-outline"}),r&&(0,e.createElement)(o,{placement:"top left"},(0,e.createElement)("div",{style:{padding:".5rem 1rem"}},(0,e.createElement)("p",null,t(__("Use %s to target the block CSS class.","wecodeart"),'"selector"')),(0,e.createElement)("pre",null,"selector {\n    background: #000;\n}\n\nselector img {\n    border-radius: 100%;\n}"),(0,e.createElement)("p",null,__("You can also use other CSS syntax here, such as media queries.","wecodeart")))))}),null)))};r(247);const{assign:i}=lodash,{hooks:{addFilter:d},compose:{createHigherOrderComponent:m},blockEditor:{InspectorAdvancedControls:p}}=wp,{restrictedBlocks:b}=wecodeartGutenberg,E=m((t=>r=>{const{name:n}=r;return b.includes(n)?(0,e.createElement)(t,r):(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t,r),(0,e.createElement)(p,null,(0,e.createElement)(u,r)))}),"withInspectorControl");d("blocks.registerBlockType","wecodeart/blocks/custom-css/addAttributes",(e=>{const{name:t}=e;return b.includes(t)||(e.attributes=i(e.attributes,{customCSS:{type:"string",default:null}})),e})),d("editor.BlockEdit","wecodeart/editor/custom-css/withInspectorControl",E,90)})()})();